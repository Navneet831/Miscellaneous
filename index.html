<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAVNEET CHAUDHARY | F&A Specialist</title>
    <!-- NEW: SEO Meta Description for better crawlability by Google Jobs and ATS -->
    <meta name="description" content="FP&A Automation Specialist Delhi | Python Finance | 80% Efficiency Gains | 6+ years cross-functional F&A expertise in GST, compliance, and strategic reporting.">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Chart.js for the timeline visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Google tag (gtag.js) for Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js/id=G-1XL4LRC5PP"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1XL4LRC5PP');
    </script>

    <style>
        /* Apply Inter font and corporate dark mode theme */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* GitHub/Corporate dark background, non-white */
            color: #f0f6f0; /* Light text for high contrast */
        }
        .metric-card {
            background-color: #161b22; /* Slightly lighter dark shade for cards */
            border: 1px solid #30363d;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.12);
        }
        /* CHANGE START: Reduced margin-bottom from 1.5rem to 1rem to tighten space below the main H2 section header. */
        .section-header {
            border-bottom: 2px solid #238636; /* Subtle green accent like professional systems */
            padding-bottom: 0.5rem;
            margin-bottom: 1rem; /* Reduced from 1.5rem (Tailwind mb-6) */
        }
        /* CHANGE END */
        .llm-card {
            background-color: #1f2328;
            border-left: 4px solid #58a6ff; /* Blue accent for AI */
        }
        .list-item {
            padding: 0.5rem 0;
            border-bottom: 1px dashed #30363d;
            margin-top: 0;
            margin-bottom: 0;
        }
        .list-item:last-child {
            border-bottom: none;
        }
        .bg-gradient-expertise {
            background: linear-gradient(90deg, #1f2328, #161b22);
        }
        .job-detail {
            border-left: 3px solid #58a6ff;
            padding-left: 1rem;
            margin-top: 0.5rem;
            margin-bottom: 1.5rem;
        }
        /* Modal styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 50;
            display: none;
            overflow-y: auto;
            padding: 20px;
        }
        .modal-content {
            background-color: #0d1117;
            max-width: 900px;
            margin: 40px auto;
            padding: 30px;
            border-radius: 12px;
            border: 1px solid #30363d;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }
        /* New style for the media and mind map modal content, allowing it to be taller and wider */
        #mediaModal .modal-content, #mindMapModal .modal-content {
            max-width: 1200px; 
            height: 90vh; 
            margin: 5vh auto;
        }
        .close-button {
            float: right;
            font-size: 28px;
            font-weight: bold;
            color: #f0f6f0;
        }
        .close-button:hover,
        .close-button:focus {
            color: #58a6ff;
            text-decoration: none;
            cursor: pointer;
        }
        /* Transition for the reason for leave text */
        .reason-for-leave {
            transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
        }
        .reason-for-leave.expanded {
            max-height: 1000px; /* Large value to ensure content fits */
            opacity: 1;
            margin-top: 0.5rem;
        }

        .sort-button.active {
            background-color: #238636;
            border-color: #238636;
        }
        /* COMPACT CERTIFICATION TAG */
        .cert-tag {
            background-color: #1f2328; /* Darker card background */
            border: 1px solid #30363d;
            padding: 0.3rem 0.6rem; 
            border-radius: 9999px; 
            font-size: 0.75rem; 
            color: #f0f6f0; 
            display: flex;
            align-items: center;
            line-height: 1;
            /* Added white-space: nowrap to prevent dates from wrapping */
            white-space: nowrap; 
        }
        /* Skills/Tools Style (Neutral Dark Tag) */
        .skill-tag {
            background-color: #30363d;
            color: #f0f6f0; 
            padding: 0.3rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.875rem; /* Slightly larger text for main skills */
            font-weight: 600;
        }
        /* Highlighted Cert Tag Style (Matching Skill Tag Background for consistency, but using Green text for high value) */
        .cert-tag-highlight {
            background-color: #30363d; /* Same background as skill tags */
            color: #238636; /* Green accent for high value */
            border-color: #238636; 
        }

        .cert-tag-title {
            font-weight: 600; 
            color: #58a6ff; 
        }
        /* Override title color for highlighted tags */
        .cert-tag-highlight .cert-tag-title {
            color: #fff; /* White title text for contrast on the dark highlight tag */
        }

        .cert-tag-detail {
            color: #9ca3af; 
        }
        /* Specific style for Expiry Warning Text */
        .cert-tag .expiry-warning {
             color: #ef4444; /* Red color */
             font-weight: 700;
             margin-left: 0.5rem;
        }

        /* SCROLLABLE CONTAINERS - MODIFIED FOR INVISIBLE SCROLLBAR */
        .scrollable-content {
            overflow-y: auto;
            /* Hide scrollbar in Firefox */
            scrollbar-width: none;
            /* Hide scrollbar in IE/Edge */
            -ms-overflow-style: none;
            /* Override padding that was compensating for scrollbar width */
            padding-right: 0 !important; 
        }
        
        /* Hide scrollbar for Webkit browsers (Chrome, Safari) */
        .scrollable-content::-webkit-scrollbar {
            width: 0px !important; /* Force width to zero */
            height: 0px !important;
            background: transparent;
        }
        
        /* Adjust padding for the fixed size segment */
        #experienceContainer, #achievementsContainer {
            padding: 0 1rem 0 1rem; 
        }
        
        /* Skills: Fixed max-height for scrolling */
        #skillsTabContent {
            max-height: 250px; /* Constrain height to force scrolling if content exceeds this */
            padding-right: 1rem; /* Added back padding here to make space for scrollbar on desktop */
        }

        /* EXPERIENCE SECTION - NEW FIXED HEIGHT AND SCROLLING */
        #experienceContent {
            max-height: 850px; /* Constrain height to force scrolling if content exceeds this */
            padding: 0 1rem 0 1rem;
        }
        
        /* EXTRA-CURRICULAR SECTION - NEW FIXED HEIGHT AND SCROLLING */
        #extraCurricularContent {
             max-height: 250px; /* Fixed height for containment */
        }

        /* Table Styling for Education */
        .education-table th, .education-table td {
            padding: 0.5rem;
            text-align: left;
            border-bottom: 1px solid #30363d;
        }
        .education-table th {
            color: #58a6ff;
            font-weight: 600;
            font-size: 0.875rem;
        }
        .education-table td {
            color: #f0f6f0;
            font-size: 0.875rem;
        }
        .education-table tr:last-child td {
            border-bottom: none;
        }
        
        /* Qualifications Table Container - Added fixed height and scrolling */
        #qualificationsTableContainer {
            max-height: 380px; /* Estimate for fixed height. Adjust as necessary if content doesn't fit */
        }


        /* Tab Styles */
        .tab-button {
            padding: 0.75rem 1.25rem;
            font-weight: 600;
            color: #9ca3af;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            transition: color 0.2s, border-bottom-color 0.2s;
        }
        .tab-button.active-tab {
            color: #238636;
            border-bottom-color: #238636;
        }
        .tab-content {
            padding-top: 1rem;
            display: none;
        }
        /* New class for Skills Tab content to keep them distinct from Achievement Tabs */
        .skills-tab-content {
             padding-top: 0.5rem;
             display: none;
        }
        
        /* *** FIX: ENFORCE FIXED HEIGHT AND SCROLLING FOR PROFESSIONAL DEVELOPMENT LIST *** */
        #professionalDevelopmentList {
            max-height: 220px; /* FIXED HEIGHT */
            overflow-y: auto; /* ENABLE VERTICAL SCROLLING */
            display: flex; 
            flex-wrap: wrap; 
            align-content: flex-start; 
        }

        /* NEW RULE: Reduced vertical space between skill groups */
        .skill-group-container {
            margin-bottom: 1rem; /* Adjust vertical space between rows of tags */
        }
        
        /* NEW: Professional contact bar styling */
        .contact-bar {
            padding-top: 1rem;
            border-top: 1px solid #30363d;
            margin-top: 1rem;
        }
        /* UPDATED: contact-link for better visibility of details */
        .contact-link {
            display: flex;
            align-items: center;
            padding: 0.4rem 0.6rem;
            border-radius: 8px;
            transition: background-color 0.2s, color 0.2s;
            color: #f0f6f0;
            background-color: #1f2328;
            border: 1px solid #30363d;
            font-size: 0.875rem;
            font-weight: 500;
        }
        /* Style for the Contact Detail span for mobile visibility */
        .contact-detail {
            display: inline; /* Default to show on desktop */
            margin-left: 0.5rem;
        }
        /* Hide icon for desktop email/phone to reduce clutter, use full text instead */
        @media (min-width: 640px) {
            .contact-link-icon {
                display: none;
            }
            .contact-detail {
                margin-left: 0; /* Remove margin when icon is hidden */
            }
        }
        /* Mobile adjustment to save space */
        @media (max-width: 640px) {
            .contact-detail {
                display: none;
            }
        }
        .contact-link:hover {
            background-color: #238636;
            color: white;
            border-color: #238636;
        }
        /* New class to ensure two items are side-by-side */
        .contact-row {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem; /* Reduced gap between side-by-side items */
        }
        
        /* --- NEW: Pitch Integration Styles --- */
        .avatar-container {
            position: relative;
            width: 160px; /* Match image size */
            height: 160px; /* Match image size */
            margin: 0 auto; /* Center for mobile */
        }
        .avatar-progress-ring {
            position: absolute;
            top: 0;
            left: 0;
            transform: rotate(-90deg); /* Start from the top */
        }
        .progress-ring-circle {
            transition: stroke-dashoffset 0.35s;
            stroke-width: 6;
            stroke: #58a6ff; /* BLUE ACCENT: Distinct from green border */
            fill: transparent;
        }
        /* Status Light */
        .status-light {
            /* Dot is kept small, but its visibility is controlled by JS state */
            width: 16px;
            height: 16px;
            border-radius: 50%;
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: #ef4444; /* Red for Idle */
            box-shadow: 0 0 8px #ef4444;
            transition: background-color 0.5s, box-shadow 0.5s;
            z-index: 20;
        }
        .status-idle {
            background-color: #ef4444; /* Red */
            box-shadow: 0 0 8px #ef4444;
        }
        .status-speaking {
            background-color: #10b981; /* Green */
            box-shadow: 0 0 12px #10b981, 0 0 20px rgba(16, 185, 129, 0.5);
            animation: flicker 0.5s infinite alternate;
        }
        @keyframes flicker {
            from { opacity: 1; }
            to { opacity: 0.8; }
        }
        /* Collapsible Pitch Styles */
        #pitchContainer {
            margin-top: 1rem;
            max-width: 100%;
        }
        .pitch-content {
            transition: max-height 0.5s ease-in-out, opacity 0.4s ease-in-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            background-color: #1f2328;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 0 1rem; /* Padding will be adjusted when expanded */
            line-height: 1.6;
        }
        .pitch-content.expanded {
            max-height: 500px; /* Sufficient height for expansion */
            opacity: 1;
            padding: 1rem;
        }
        /* Adjusted style for the Follow button to sit lower */
        .follow-button {
            /* Removed transformation */
            transform: none; 
            margin-left: 0.5rem; /* Space from Play Pitch button */
        }
        /* Style for Portfolio and Cover Letter buttons to have better dark mode styling */
        .secondary-link-button {
            border: 1px solid #30363d; /* Dark border */
            background-color: #1f2328; /* Darker background */
            color: #f0f6f0; /* White text for contrast */
            font-weight: 600; 
            transition: background-color 0.2s, color 0.2s;
        }
        .secondary-link-button:hover {
            background-color: #30363d; /* Hover effect */
            color: #58a6ff; /* Blue hover text */
        }
        
        /* Media Container Styles */
        .responsive-iframe-container {
            position: relative;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            width: 100%;
            height: 0;
            overflow: hidden;
            background-color: #0d1117;
            border-radius: 8px;
        }
        .responsive-iframe-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* FAB Buttons - Moved to Top Right below header */
        #top-right-fabs {
            position: absolute;
            top: 120px; /* Position below the header/name area */
            right: 1.5rem; /* Tailwind 'px-6' equivalent */
            z-index: 30; 
            display: flex;
            flex-direction: column;
            gap: 0.75rem; /* Space between buttons */
        }

        .fab-icon {
            width: 40px; 
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            color: white;
            font-weight: 700;
        }
        .fab-icon:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);
        }
        
        /* Mind Map FAB (Green accent) */
        .mind-map-fab {
            background-color: #238636; 
        }
        /* Media FAB (Blue accent) */
        .media-fab {
            background-color: #58a6ff; 
        }
        /* Social Icon Button (Inherit secondary link style) */
        .social-icon-btn {
            background-color: #1f2328;
            border: 1px solid #30363d;
            color: #58a6ff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s, color 0.2s;
        }
        .social-icon-btn:hover {
            background-color: #30363d;
            color: white;
        }
        
        /* LinkedIn Specific Styling (Brand Blue) */
        .linkedin-btn {
            background-color: #0077B5; /* LinkedIn Blue */
            border-color: #0077B5;
            color: white; 
        }
        .linkedin-btn:hover {
            background-color: #005582; /* Darker blue on hover */
            border-color: #005582;
            color: white;
        }
        /* Overriding the default icon color for LinkedIn */
        .linkedin-btn svg {
            stroke: white; 
        }


        /* Responsive placement adjustment */
        @media (max-width: 1024px) { /* Adjust position for smaller screens */
             #top-right-fabs {
                 position: relative;
                 top: auto;
                 right: auto;
                 margin-top: 1rem;
                 flex-direction: row;
                 justify-content: center;
                 flex-wrap: wrap;
                 width: 100%;
               }
               .fab-icon {
                 width: 36px;
                 height: 36px;
               }
               .social-icon-btn {
                 width: 36px;
                 height: 36px;
               }
               
        }
        @media (min-width: 1024px) { /* Desktop: Ensure top-right position */
            #top-right-fabs {
                position: absolute;
                top: 120px; /* Fixed position */
                right: 1.5rem;
                flex-direction: column;
                align-items: flex-end;
            }
        }
        
        /* --- MIND MAP STYLES FROM MIND MAP.HTML --- */
        
        /* Overriding the body background from mind map to use the modal's background for consistency */
        #mindmap-container {
            /* Removed background-color: #121212; to use modal background */
            font-family: 'Inter', sans-serif;
            color: #E0E0E0; 
            min-height: 80vh; /* Adjusted to fit within modal content better */
            padding: 0; /* Reduced padding here, let the modal content handle it */
            display: flex; 
            align-items: flex-start; 
            justify-content: flex-start; 
            width: fit-content;
            overflow: visible; /* Let the map itself overflow the inner container */
            margin: 0 auto; /* Center the map root */
        }
        
        /* Reset Mind Map SVG position within its container */
        #mindmap-svg {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
            overflow: visible;
            z-index: 0; 
        }
        .connector-line {
            fill: none;
            stroke: #4B5563; /* Line color */
            stroke-width: 3;
            stroke-linecap: round;
        }

        /* --- Node Styling --- */
        .node-container {
            position: relative;
            display: flex;
            align-items: center;
            padding: 5px 0; 
            min-height: 40px; 
        }
        .node-content {
            box-shadow: 0 4px 12px -1px rgba(0, 0, 0, 0.4);
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: 1px solid transparent; 
            user-select: none;
            flex-shrink: 0; 
            font-weight: 500;
        }
        
        /* Node Level Styling (Corporate Palette) */
        .root-node {
            background-color: #003366; /* Deep Navy */
            color: white;
            padding: 1.5rem 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            border-radius: 9999px; 
            min-width: 150px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 51, 102, 0.5); 
            z-index: 20; 
        }

        /* Level 1: Main Categories (Corporate Cyan) */
        .level-1-node {
            background-color: #00A8A8; /* Corporate Cyan */
            color: white;
            padding: 0.75rem 1.5rem;
            font-size: 1.125rem;
            font-weight: 600;
            border-radius: 9999px;
            z-index: 15;
        }

        /* Level 2: Timeline/Focus (Muted Gold) */
        .level-2-node {
            background-color: #CC8800; /* Muted Gold/Yellow */
            color: white;
            padding: 0.6rem 1.3rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 9999px;
            z-index: 10;
        }

        /* Level 3: Company/Detail (Medium Gray) */
        .level-3-node {
            background-color: #4F555D; /* Medium Gray */
            color: white;
            padding: 0.5rem 1.25rem;
            font-size: 0.9rem; 
            border-radius: 9999px;
            z-index: 5;
        }

        /* Level 4: Designation/System Name (Dark Gray) */
        .level-4-node {
            background-color: #40464C; /* Darker Gray */
            color: #D1D5DB; /* Lighter text */
            padding: 0.4rem 1rem;
            font-size: 0.85rem; 
            border-radius: 9999px;
            border: 1px solid #6B7280;
            z-index: 1;
        }
        
        /* Level 5: Sub-Detail/Metric (Light Gray) */
        .level-5-node {
            background-color: #6B7280; 
            color: #E0E0E0; 
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
            border-radius: 9999px;
            z-index: 0;
        }

        /* Common Node Enhancements */
        .node-content:not(.root-node):hover {
            transform: scale(1.03); 
        }

        /* --- LAYOUT ADJUSTMENTS FOR VERTICAL SIBLINGS / HORIZONTAL CHILDREN --- */
        .children-wrapper {
            display: flex;
            flex-direction: column; /* CRITICAL CHANGE: Siblings stack vertically */
            align-items: flex-start; /* Align children to the left */
            padding-left: 2rem; 
            transition: all 0.3s ease-in-out;
            min-width: 0; 
        }

        /* Specific vertical spacing for stacked siblings */
        .level-1-children, .level-2-children, .level-3-children, .level-4-children { 
            gap: 0.75rem; 
        }

        /* Collapse icon styling */
        .collapse-icon {
            font-family: Arial, sans-serif;
            font-size: 1.25rem;
            line-height: 1;
            transition: transform 0.2s;
            transform-origin: center center;
            padding-left: 0.5rem; 
        }
    </style>
</head>
<body class="min-h-screen">

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <!-- HERO SECTION: Clean, Focused, and Professional -->
        <header class="mb-6 pt-0"> <!-- REDUCED mb-12 to mb-6, pt-10 to pt-0 -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                
                <!-- Left Column: Photo, Name, Title, and CONSOLIDATED CONTACTS (REDESIGNED) -->
                <div class="lg:col-span-1 flex flex-col items-center lg:items-start text-center lg:text-left space-y-4">
                    
                    <!-- NEW: Avatar Container with Progress Ring and Status Light (UNCHANGED) -->
                    <div class="avatar-container transition duration-300 hover:scale-[1.02] transform"
                        style="box-shadow: 0 0 25px rgba(35, 134, 54, 0.7); border-radius: 50%;">
                        
                        <!-- Circular Progress Bar SVG -->
                        <svg class="avatar-progress-ring" width="160" height="160" viewBox="0 0 160 160" role="progressbar" aria-valuenow="0" aria-valuemax="100">
                            <!-- Background track (dark gray, subtle) -->
                            <circle r="77" cx="80" cy="80" fill="transparent" stroke="#30363d" stroke-width="6"></circle>
                            <!-- Foreground circle (blue progress) -->
                            <circle id="progressCircle" class="progress-ring-circle" r="77" cx="80" cy="80" stroke-dasharray="483.8" stroke-dashoffset="483.8"></circle>
                        </svg>
                        
                        <!-- Status Light (Hidden initially/when dot isn't needed) -->
                        <div id="statusLight" class="status-light status-idle"></div>

                        <!-- Professional Photo (Original image) -->
                        <img id="profilePhoto" 
                                src="https://placehold.co/160x160/161b22/f0f6f0?text=NC" 
                                onerror="this.src='https://placehold.co/160x160/161b22/f0f6f0?text=NC'"
                                alt="Navneet Chaudhary Professional Portrait" 
                                class="w-40 h-40 object-cover rounded-full border-4 border-[#238636] shadow-2xl"
                                style="position: relative; z-index: 10;">
                    </div>
                    <!-- END NEW AVATAR CONTAINER -->

                    <!-- START MODIFIED SECTION: Name and Title -->
                    <h1 class="text-4xl font-extrabold text-white tracking-tight sm:text-5xl lg:text-4xl leading-tight">
                        NAVNEET CHAUDHARY
                    </h1>
                    
                    <p class="text-lg text-[#58a6ff] font-medium mt-[-4px] mb-2">
                        Assistant Manager, F&A | Delhi, India
                    </p>
                    
                    <!-- !!! START NEW LOCATION FOR PITCH AND FOLLOW BUTTONS (Fixed size, below title) !!! -->
                    <!-- Added flex-1 to both buttons to enforce equal width -->
                    <div class="flex space-x-3 w-full max-w-xs mx-auto lg:mx-0 justify-center lg:justify-start mb-4">
                        <button id="playPitchButton" 
                                onclick="window.generateElevatorPitch()"
                                class="flex-1 px-4 py-2 text-sm bg-[#58a6ff] text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 flex items-center justify-center space-x-1"
                                aria-label="Play Introduction Pitch">
                            <!-- Play Icon SVG -->
                            <svg id="pitchButtonIcon" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197 2.132A1 1 0 0110 13.73v-3.46a1 1 0 011.555-.832l3.197 2.132z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <span>Play Pitch</span>
                        </button>
                        
                        <!-- Follow Button (LinkedIn Style) - NOW SAME SIZE AS PITCH -->
                        <button onclick="console.log('Follow clicked'); this.textContent = 'Following'; this.classList.remove('bg-[#58a6ff]', 'hover:bg-blue-600'); this.classList.add('bg-gray-700', 'hover:bg-gray-600');"
                                class="follow-button flex-1 px-3 py-1 text-sm bg-[#58a6ff] text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition duration-300 flex items-center justify-center"
                                aria-label="Follow Navneet Chaudhary"
                                role="button">
                            Follow
                        </button>
                    </div>
                    <!-- !!! END NEW LOCATION FOR PITCH AND FOLLOW BUTTONS !!! -->
                    
                    <!-- Divider line, simulating the old contact bar location -->
                    <div class="contact-bar w-full justify-center lg:justify-start">
                        <!-- Removed content, kept for styling boundary if needed. Use border-top/bottom on parent or child if necessary -->
                        <div class="w-full" style="border-top: 1px solid #30363d; margin-top: -1rem;"></div>
                    </div>

                </div>

                <!-- Right Column: Headline, About Me, and CONSOLIDATED LINKS -->
                <div class="lg:col-span-2 text-center lg:text-left space-y-4"> <!-- REDUCED space-y-6 to space-y-4 -->
                    
                    <!-- Concise Headline -->
                    <h2 class="text-3xl sm:text-4xl font-bold text-[#f0f6f0] leading-snug">
                        F&A Specialist & <span class="text-[#238636]">Automation Strategist</span>
                    </h2>

                    <!-- About Me Statement - UPDATED (Removed ** around custom text) -->
                    <p class="text-base text-gray-400 max-w-2xl mx-auto lg:mx-0">
                        6+ years of expertise in <b>FP&A, strategic finance, and compliance</b>, defined by a <b>proven track record of transformation with measurable achievement in each role</b>. I <b>leverage Python and Generative AI to drive automation and boost efficiency by cutting manual work by 80%</b>.
                    </p>

                    <!-- CONSOLIDATED PRIMARY LINKS - RESTRUCTURED FOR HORIZONTAL GROUPING -->
                    <div class="flex flex-col gap-3 pt-2"> 
                        
                        <!-- Row 1: Download Resume, Portfolio, Check My Availability (Primary Actions, Horizontal) -->
                        <div class="flex flex-wrap justify-center lg:justify-start gap-3">
                            <a id="downloadResumeButton"
                                href="https://drive.google.com/file/d/1UBxBOqUxtL386miSFkWOXQlG5HWMaUS2/view?usp=sharing"
                                target="_blank"
                                class="px-4 py-2 text-sm border border-[#238636] bg-[#238636] text-white font-semibold rounded-lg shadow-md hover:bg-green-600 hover:border-green-600 transition duration-300 flex items-center space-x-1 flex-grow sm:flex-grow-0"
                                role="button" aria-label="Download my resume (Google Drive)">
                                <!-- Download Icon SVG -->
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                <span>Download Resume</span>
                            </a>
                            
                            <!-- 2. Portfolio/Linktree Button -->
                            <a href="https://linktr.ee/navneet831" 
                               target="_blank" 
                               class="px-4 py-2 text-sm font-semibold rounded-lg shadow-md flex-grow sm:flex-grow-0 secondary-link-button"
                               role="button" aria-label="View all external links including portfolio"
                               onclick="gtag('event', 'link_click', {'event_category': 'resume_cta', 'event_label': 'linktree_view'})">
                                Portfolio
                            </a>
                            
                            <!-- 3. Check My Availability Button (Blue accent) -->
                            <a href="https://calendar.app.google/qtFpe6bA8cr6qPDk8"
                                target="_blank"
                                class="px-4 py-2 text-sm border border-[#58a6ff] bg-[#58a6ff] text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 hover:border-blue-600 transition duration-300 flex items-center space-x-1 flex-grow sm:flex-grow-0"
                                role="button" aria-label="Check my availability for a meeting">
                                <!-- Calendar Icon SVG -->
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                <span>Check My Availability</span>
                            </a>
                        </div>
                    
                        <!-- Row 2: Email, Phone, Cover Letter (Contact/Secondary Action, Horizontal) -->
                        <!-- RESTORING EMAIL AND PHONE LINKS HERE -->
                        <div class="flex flex-wrap justify-center lg:justify-start gap-3">
                            <!-- 4. Email Link (Now a button-style link) -->
                            <a href="mailto:Nvc7162@gmail.com" class="px-4 py-2 text-sm font-semibold rounded-lg shadow-md flex-grow sm:flex-grow-0 secondary-link-button flex items-center space-x-1" aria-label="Email Nvc7162@gmail.com">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                <span>Nvc7162@gmail.com</span>
                            </a>

                            <!-- 5. Phone Link (Now a button-style link) -->
                            <a href="tel:+919873394075" class="px-4 py-2 text-sm font-semibold rounded-lg shadow-md flex-grow sm:flex-grow-0 secondary-link-button flex items-center space-x-1" aria-label="Call +91 98733 94075">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.5l1 4-3.5 1.5a12.5 12.5 0 005.5 5.5l1.5-3.5 4 1v3.5a2 2 0 01-2 2H5a2 2 0 01-2-2v-14z"></path></svg>
                                <span>+91 98733 94075</span>
                            </a>

                            <!-- 6. Full Cover Letter Button - STYLING APPLIED -->
                            <button onclick="document.getElementById('coverLetterModal').style.display='block'" 
                                    class="px-4 py-2 text-sm font-semibold rounded-lg shadow-md flex-grow sm:flex-grow-0 secondary-link-button"
                                    aria-haspopup="dialog" aria-controls="coverLetterModal" aria-label="Open full cover letter">
                                Cover Letter
                            </button>
                        </div>
                        
                    </div>
                    <!-- END CONSOLIDATED PRIMARY LINKS -->
                    
                    <!-- CONSOLIDATED SECONDARY LINKS (Empty placeholder, removed for cleanliness) -->
                </div>
            </div>
        </header>
        <!-- END HERO SECTION -->

        <!-- NEW: SOCIAL/UTILITY ICON BAR (Fixed to Top Right on Desktop, Floats to Next Row on Mobile) -->
        <section id="top-right-fabs" class="lg:absolute lg:top-[120px] lg:right-6 z-30 flex flex-col lg:flex-col items-center lg:items-start gap-3 mt-4 lg:mt-0">
             
            <!-- 1. Mind Map FAB (Green accent) - OPEN MODAL -->
            <!-- UPDATED onclick to use new function -->
            <button onclick="window.openMindMapModal()" 
                    class="fab-icon mind-map-fab"
                    aria-label="Open Professional Profile Mind Map">
                <!-- CUSTOM SVG for Mind Map (Matching User's Image) -->
                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="4" height="4" rx="1" fill="currentColor" stroke="none"/>
                    <rect x="3" y="17" width="4" height="4" rx="1" fill="currentColor" stroke="none"/>
                    <rect x="17" y="10" width="4" height="4" rx="1" fill="currentColor" stroke="none"/>
                    <line x1="7" y1="5" x2="17" y2="5" stroke="currentColor" stroke-dasharray="4 2"/>
                    <line x1="7" y1="19" x2="17" y2="19" stroke="currentColor" stroke-dasharray="4 2"/>
                    <line x1="17" y1="5" x2="17" y2="19" stroke="currentColor" stroke-dasharray="4 2"/>
                    <line x1="19" y1="12" x2="17" y2="12" stroke="currentColor" stroke-dasharray="4 2"/>
                </svg>
            </button>
            
            <!-- 2. Media FAB (Blue accent) - OPEN MODAL -->
            <button onclick="window.openMediaModal()" 
                    class="fab-icon media-fab"
                    aria-label="Open Social Media and Video Links">
                <!-- Play button icon -->
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197 2.132A1 1 0 0110 13.73v-3.46a1 1 0 011.555-.832l3.197 2.132z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            </button>
            
            <!-- 3. GitHub Icon Button -->
            <a href="https://github.com/Navneet831" target="_blank" class="social-icon-btn" aria-label="View GitHub Profile">
                <!-- SVG Icon for GitHub -->
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.904 0l1.543 4.74c.15.462.593.774 1.077.774h4.981c.974 0 1.378 1.258.59 1.81l-4.032 2.932c-.38.277-.525.753-.375 1.215l1.543 4.74c.3.921-.755 1.688-1.54 1.134L12 18.291l-4.032 2.932c-.785.554-1.84-.197-1.54-1.134l1.543-4.74c.15-.462-.005-.938-.375-1.215L2.348 9.251c-.788-.552-.384-1.81.59-1.81h4.981c.484 0 .927-.312 1.077-.774L11.049 2.927z"></path></svg>
            </a>

            <!-- 4. Medium Icon Button -->
            <a href="https://medium.com/@navneet831" target="_blank" class="social-icon-btn" aria-label="View Medium Articles">
                 <!-- SVG Icon for Medium (Pencil) -->
                 <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
            </a>

            <!-- 5. LinkedIn Icon Button - STYLED TO BE BRAND BLUE -->
            <a href="https://www.linkedin.com/in/navneet831/" 
               target="_blank" 
               class="social-icon-btn linkedin-btn" 
               aria-label="View LinkedIn Profile">
                <!-- Custom SVG for solid LinkedIn icon - 'in' logo -->
                <svg class="w-5 h-5" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                    <rect width="24" height="24" rx="4" fill="none"/>
                    <path d="M16 8c-1.1 0-2 .9-2 2v7h-3v-7c0-1.1-.9-2-2-2s-2 .9-2 2v7H7V9h3v1.5a3 3 0 0 1 2.6-1.5c2.1 0 3.4 1.8 3.4 4.5V17h3v-7c0-2.8-2.2-5-5-5zM6.5 5.75A1.75 1.75 0 1 1 8.25 4 1.75 1.75 0 0 1 6.5 5.75z" fill="white"/>
                </svg>
            </a>

        </section>
        
        <!-- NEW: Collapsible Elevator Pitch Container -->
        <section id="pitchContainer" class="mb-4"> <!-- REDUCED mb-8 to mb-4 -->
            <div id="pitchContent" class="pitch-content text-gray-400 text-sm" aria-expanded="false">
                <p id="pitchOutput" class="text-white font-medium"></p>
                <p id="pitchStatus" class="text-xs text-gray-500 mt-2 italic">Click 'Play Pitch' above to hear the introduction.</p>
            </div>
        </section>
        <!-- END NEW PITCH CONTAINER -->

        <!-- Main Content Sections: Experience, Qualifications, Achievements, Certifications -->
        <!-- Added items-stretch to the grid to ensure column height matching -->
        <div class="grid grid-cols-1 lg:col-span-3 lg:grid-cols-3 gap-8 mt-6 items-stretch"> <!-- REDUCED mt-10 to mt-6 -->
            
            <!-- Left Column: Detailed Experience & Achievements (lg:col-span-2) -->
            <div class="lg:col-span-2 space-y-6"> <!-- REDUCED space-y-8 to space-y-6 -->
                
                <!-- DETAILED EXPERIENCE SECTION -->
                <section class="p-4 metric-card rounded-lg"> <!-- REDUCED p-6 to p-4 -->
                    <h2 class="text-2xl font-bold section-header">Professional Experience</h2>
                    
                    <!-- Content now has fixed max height and scrolling -->
                    <div id="experienceContent" class="experience-content scrollable-content" style="max-height: 850px; padding: 0 1rem 0 1rem;">

                        <!-- Oriana Power Ltd -->
                        <div class="mb-4"> <!-- REDUCED mb-6 to mb-4 -->
                            <h3 class="text-lg font-bold text-[#58a6ff]">Oriana Power Ltd. <span class="text-sm font-normal text-gray-400">(Assistant Manager F&A - Report to Director Finance)</span></h3>
                            <p class="text-xs text-gray-500 mb-2">June 2025 - September 2025 (Noida)</p>
                            <div class="job-detail">
                                
                                <p class="text-sm font-bold text-white mt-2">FP&A Lead:</p>
                                <p class="text-sm text-gray-400">Established the FP&A function from scratch, implementing budgeting, forecasting, and variance analysis that accelerated management decision-making by 30%.</p>
                                <p class="text-sm font-bold text-white mt-2">Cash Flow Management:</p>
                                <p class="text-sm text-gray-400">Stabilized operations during liquidity crunch with only 8 days' cash on hand by managing cash flow and loan documentation, securing timely bank funding to avert default.</p>
                                
                                <!-- Reason for Leave Toggle -->
                                <div class="mt-3">
                                    <button onclick="toggleReason(this, 'reasonOriana'); gtag('event', 'gap_view', {'event_label': 'Oriana Power Toggle'})" 
                                            class="text-sm font-medium text-red-400 hover:text-red-300 focus:outline-none flex items-center"
                                            aria-expanded="false" aria-controls="reasonOriana" aria-label="Toggle reason for leaving Oriana Power Ltd">
                                        <span id="iconOriana" class="mr-1 text-lg leading-none">+</span>
                                        Reason for Leave
                                    </button>
                                    <p id="reasonOriana" class="reason-for-leave text-xs text-gray-500 italic p-1 border-l border-gray-600 ml-3"
                                        role="region" aria-live="polite">
                                        Joined to set up FP&A processes; actual responsibilities shifted into loan documentation, leading to exit for role alignment. Now focused on long-term stability in Finance & Accounting/FP&A roles where my expertise can add measurable value.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Grew Energy Pvt Ltd (Streamlit reference removed) -->
                        <div class="mb-4"> <!-- REDUCED mb-6 to mb-4 -->
                            <h3 class="text-lg font-bold text-[#58a6ff]">Grew Energy Pvt Ltd. <span class="text-sm font-normal text-gray-400">(Assistant Manager F&A)</span></h3>
                            <p class="text-xs text-gray-500 mb-2">December 2024 - June 2025 (Ahmedabad)</p>
                            <div class="job-detail">
                                <!-- CORRECTED LINE: Ensure achievement text starts directly after the bold header on the same line. -->
                                <p class="text-sm text-gray-400"><b class="text-white">FP&A Automation: Engineered</b> process automation by building <b>Python-based RPA, dashboards, and AI-enabled database access</b>, reducing MIS preparation time and manual effort by 80%.</p>
                                <!-- Reason for Leave Toggle -->
                                <div class="mt-3">
                                    <button onclick="toggleReason(this, 'reasonGrew'); gtag('event', 'gap_view', {'event_label': 'Grew Energy Toggle'})" 
                                            class="text-sm font-medium text-red-400 hover:text-red-300 focus:outline-none flex items-center"
                                            aria-expanded="false" aria-controls="reasonGrew" aria-label="Toggle reason for leaving Grew Energy Pvt Ltd">
                                        <span id="iconGrew" class="mr-1 text-lg leading-none">+</span>
                                        Reason for Leave
                                    </button>
                                    <p id="reasonGrew" class="reason-for-leave text-xs text-gray-500 italic p-1 border-l border-gray-600 ml-3"
                                        role="region" aria-live="polite">
                                        Role was discontinued after six months as part of organizational changes.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Ozone Pharmaceuticals Ltd -->
                        <div class="mb-4"> <!-- REDUCED mb-6 to mb-4 -->
                            <h3 class="text-lg font-bold text-[#58a6ff]">Ozone Pharmaceuticals Ltd. <span class="text-sm font-normal text-gray-400">(Senior Executive - Report to CFO)</span></h3>
                            <p class="text-xs text-gray-500 mb-2">February 2022 - August 2024 (Delhi)</p>
                            <div class="job-detail">
                                <ul class="space-y-1 text-sm text-gray-400"> <!-- REDUCED space-y-2 to space-y-1 -->
                                    <li><b class="text-white">FP&A:</b> Automated MIS to enhance reporting, cutting errors by 40%. Handled Budgeting, Forecasting, and Variance analysis.</li>
                                    <li><b class="text-white">Project Finance:</b> Analysed state policies, drafted reports, and conducted DCF & payback analysis.</li>
                                    <li><b class="text-white">Asset Accounting:</b> Overhauled Fixed asset accounting, reduced discrepancies by 20%.</li>
                                    <li><b class="text-white">Tax Compliance:</b> Managed 31 GST registrations, ensuring 100% compliance, also dealt with TDS and TCS returns.</li>
                                    <li><b class="text-white">Leadership:</b> Trained an intern to manage core MIS operations independently, leading to their advancement in 6 months.</li>
                                </ul>
                                    <!-- Reason for Leave Toggle -->
                                <div class="mt-3">
                                    <button onclick="toggleReason(this, 'reasonOzone'); gtag('event', 'gap_view', {'event_label': 'Ozone Pharma Toggle'})" 
                                            class="text-sm font-medium text-red-400 hover:text-red-300 focus:outline-none flex items-center"
                                            aria-expanded="false" aria-controls="reasonOzone" aria-label="Toggle reason for leaving Ozone Pharmaceuticals Ltd">
                                        <span id="iconOzone" class="mr-1 text-lg leading-none">+</span>
                                        Reason for Leave
                                    </button>
                                    <p id="reasonOzone" class="reason-for-leave text-xs text-gray-500 italic p-1 border-l border-gray-600 ml-3"
                                        role="region" aria-live="polite">
                                        Stepped away due to unavoidable family medical responsibilities, resulting in a short career gap.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Shanti Mukand Hospital -->
                        <div class="mb-4"> <!-- REDUCED mb-6 to mb-4 -->
                            <h3 class="text-lg font-bold text-[#58a6ff]">Shanti Mukand Hospital <span class="text-sm font-normal text-gray-400">(Junior Executive F&A)</span></h3>
                            <p class="text-xs text-gray-500 mb-2">February 2021 - February 2022 (Delhi)</p>
                            <div class="job-detail">
                                <p class="text-sm font-bold text-white">AP (Vendor Management):</p>
                                <p class="text-sm text-gray-400">Mitigated high-risk long pending dues, adhering to NPPA Act guidelines for implant suppliers.</p>
                                    <!-- Reason for Leave Toggle -->
                                <div class="mt-3">
                                    <button onclick="toggleReason(this, 'reasonShanti'); gtag('event', 'gap_view', {'event_label': 'Shanti Mukand Toggle'})" 
                                            class="text-sm font-medium text-red-400 hover:text-red-300 focus:outline-none flex items-center"
                                            aria-expanded="false" aria-controls="reasonShanti" aria-label="Toggle reason for leaving Shanti Mukand Hospital">
                                        <span id="iconShanti" class="mr-1 text-lg leading-none">+</span>
                                        Reason for Leave
                                    </button>
                                    <p id="reasonShanti" class="reason-for-leave text-xs text-gray-500 italic p-1 border-l border-gray-600 ml-3"
                                        role="region" aria-live="polite">
                                        Left to seek a better role and expand professional responsibility.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Kumar Grover & Company -->
                        <div class="mb-0">
                            <h3 class="text-lg font-bold text-[#58a6ff]">Kumar Grover & Company <span class="text-sm font-normal text-gray-400">(Accounts Assistant)</span></h3>
                            <p class="text-xs text-gray-500 mb-2">February 2019 - January 2021 (Delhi)</p>
                            <div class="job-detail">
                                <ul class="space-y-1 text-sm text-gray-400"> <!-- REDUCED space-y-2 to space-y-1 -->
                                    <li><b class="text-white">Taxation:</b> Expertly executed income tax computation of diverse clients, ensuring 100% compliance.</li>
                                    <li><b class="text-white">Audit:</b> Played a pivotal role in statutory and stock audits, contributing to comprehensive financial assessments.</li>
                                </ul>
                                    <!-- Reason for Leave Toggle -->
                                <div class="mt-3">
                                    <button onclick="toggleReason(this, 'reasonKumar'); gtag('event', 'gap_view', {'event_label': 'Kumar Grover Toggle'})" 
                                            class="text-sm font-medium text-red-400 hover:text-red-300 focus:outline-none flex items-center"
                                            aria-expanded="false" aria-controls="reasonKumar" aria-label="Toggle reason for leaving Kumar Grover & Company">
                                        <span id="iconKumar" class="mr-1 text-lg leading-none">+</span>
                                        Reason for Leave
                                    </button>
                                    <p id="reasonKumar" class="reason-for-leave text-xs text-gray-500 italic p-1 border-l border-gray-600 ml-3"
                                        role="region" aria-live="polite">
                                        Left to gain corporate exposure and advance career prospects.
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div> <!-- End experienceContent -->
                </section>
                
                
                <!-- ACHIEVEMENTS SECTION (MODIFIED TO USE TABS) -->
                <section class="p-4 metric-card rounded-lg bg-gradient-expertise mb-6"> <!-- REDUCED p-6 to p-4, mb-8 to mb-6 -->
                    <h2 class="text-2xl font-bold section-header">Key Achievements & Recognition</h2>

                    <!-- Tab Buttons (UPDATED with ARIA) -->
                    <div class="flex border-b border-gray-600 -mx-4 px-4" role="tablist"> <!-- REDUCED -mx-6/-px-6 to -mx-4/-px-4 -->
                        <button class="tab-button active-tab" 
                                onclick="window.openTab(event, 'professional')" 
                                id="tab-professional" 
                                role="tab" 
                                aria-controls="professional" 
                                aria-selected="true">
                            Professional Impact
                        </button>
                        <button class="tab-button" 
                                onclick="window.openTab(event, 'academic')" 
                                id="tab-academic" 
                                role="tab" 
                                aria-controls="academic" 
                                aria-selected="false">
                            Academic & Competition
                        </button>
                        <button class="tab-button" 
                                onclick="window.openTab(event, 'personalGrowth')" 
                                id="tab-personalGrowth" 
                                role="tab" 
                                aria-controls="personalGrowth" 
                                aria-selected="false">
                            Personal & Growth
                        </button>
                    </div>

                    <!-- Tab Content Container: FIXED MAX HEIGHT SET TO 170PX -->
                    <div id="achievementsContainer" class="scrollable-content" style="max-height: 170px;">
                    
                        <!-- Professional Impact Tab Content (Flex alignment applied) -->
                        <div id="professional" class="tab-content" role="tabpanel" aria-labelledby="tab-professional" style="display: block;">
                            <ul class="space-y-2 text-gray-300 ml-4"> <!-- REDUCED space-y-3 to space-y-2 -->
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>Compensation Impact:</b> Achieved a significant 57% joining hike for the high-impact F&A role at Oriana Power Ltd.</p>
                                </li>
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>Performance Impact:</b> Justified a 58% joining hike and earned an exceptional 17.39% appraisal at Ozone Pharmaceuticals Ltd.</p>
                                </li>
                            </ul>
                        </div>

                        <!-- Academic & Competition Tab Content (Flex alignment applied) -->
                        <div id="academic" class="tab-content" role="tabpanel" aria-labelledby="tab-academic" style="display: none;">
                            <ul class="space-y-2 text-gray-300 ml-4"> <!-- REDUCED space-y-3 to space-y-2 -->
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>NSE Financial Literacy:</b> Winner of the NSE Financial Literacy Quiz (Series 2, March 24).</p>
                                </li>
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>Management Quiz:</b> Secured 9th rank in the 25/09/2025 Management September series Quiz <b>on unstop</b>.</p>
                                </li>
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>Skillyst:</b> Earned <b>Bronze medal</b> in the Skillyst competition.</p>
                                </li>
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>Economics Quiz:</b> Ranked 3rd in an Economics Quiz competition during the 12th Grade (2016).</p>
                                </li>
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                    <p class="flex-grow"><b>MS Excel:</b> Earned a LinkedIn Skill Assessment badge in Microsoft Excel.</p>
                                </li>
                            </ul>
                        </div>
                        
                        <!-- Personal & Growth Tab Content (Already has Flex alignment) -->
                        <div id="personalGrowth" class="tab-content" role="tabpanel" aria-labelledby="tab-personalGrowth" style="display: none;">
                            <ul class="space-y-2 text-gray-300 ml-4"> <!-- REDUCED space-y-3 to space-y-2 -->
                                <!-- Achievement 1: T-Shaped Expertise (Flex alignment) -->
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span> 
                                    <p class="flex-grow">
                                        <b>T-Shaped Finance Expertise:</b> Developed across GST, FP&A, Capex, & Accounting; core focus on Automation and Data Analysis.
                                    </p>
                                </li>
                                <!-- Achievement 2: Digital Transformation (Flex alignment) -->
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span> 
                                    <p class="flex-grow">
                                        <b>Digital Transformation:</b> Learned to leverage tech as a non-coder to drive efficiency through automation, eliminating numerous manual tasks.
                                    </p>
                                </li>
                                <!-- Achievement 3: First-Gen Attendee (Flex alignment) -->
                                <li class="flex items-start">
                                    <span class="mr-2 text-[#238636] text-lg leading-none"></span> 
                            <p class="flex-grow">
                                        First-generation university Attendee.
                                    </p>
                                </li>
                            </ul>
                        </div>

                    </div> <!-- End achievementsContainer -->
                </section>
                
                
                <!-- EXTRA-CURRICULAR SECTION -->
                <section class="p-4 metric-card rounded-lg mb-6"> <!-- REDUCED p-6 to p-4, mb-8 to mb-6 -->
                    <h2 class="text-2xl font-bold section-header">Extra-Curricular Activities</h2>
                    <!-- Content now has fixed max height and scrolling -->
                    <div id="extraCurricularContent" class="scrollable-content" style="max-height: 250px;">
                        <div class="space-y-3 text-sm"> <!-- REDUCED space-y-4 to space-y-3 -->
                            <div class="text-gray-300">
                                <p class="font-bold text-white">Volunteering (Sep '24 - Nov '24)</p>
                                <p class="text-gray-400">Volunteered (unpaid) with <b>Robinhood Army NGO</b>, contributing time and effort to community service.</p>
                            </div>
                            <div class="text-gray-300">
                                <p class="font-bold text-white">Thought Leadership (Sep '25 - Present)</p>
                                <p class="text-gray-400">Publishes finance and economics articles in leading <b>Medium publications</b>, demonstrating knowledge synthesis and communication skills.</p>
                            </div>
                            <div class="text-gray-300">
                                <p class="font-bold text-white">Workshops & Events</p>
                                <ul class="space-y-1 text-gray-400 ml-4">
                                    <li class="flex items-start">
                                        <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                        <p class="flex-grow">Attended <b>Fintech Olympiad</b> and financial planning webinars.</p>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="mr-2 text-[#238636] text-lg leading-none"></span>
                                        <p class="flex-grow">Participated in <b>Portfolio Management Sanjiv Bhasins workshop</b> at Masters' Union.</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- INTERESTS SECTION (UPDATED FOR HANGING INDENT) -->
                <section class="p-4 metric-card rounded-lg"> <!-- REDUCED p-6 to p-4 -->
                    <h2 class="text-2xl font-bold section-header">Interests</h2>
                    <!-- Applied Flexbox structure here for hanging indent -->
                    <ul class="space-y-2 text-gray-400 ml-4 text-sm"> <!-- REDUCED space-y-3 to space-y-2 -->
                        
                        <!-- Interest 1: Multidisciplinary Learning (Flex alignment) -->
                        <li class="flex items-start">
                            <span class="mr-2 text-[#238636] text-lg leading-none"></span> 
                            <p class="flex-grow">
                                <b>Multidisciplinary Learning:</b> Anything that gives new perspective.
                            </p>
                        </li>
                        <!-- Interest 2: Geo-economics (Flex alignment) -->
                        <li class="flex items-start">
                            <span class="mr-2 text-[#238636] text-lg leading-none"></span> 
                            <p class="flex-grow">
                                <b>Geo-economics:</b> Analyzing the intersection of geography, geopolitics, and global financial strategy.
                            </p>
                        </li>
                        <!-- Interest 3: App Development (Flex alignment) -->
                        <li class="flex items-start">
                            <span class="mr-2 text-[#238636] text-lg leading-none"></span> 
                            <p class="flex-grow">
                                <b>App Development:</b> Leveraging personal projects to solve business problems and improve efficiency through code.
                            </p>
                        </li>
                    </ul>
                </section>


            </div>

            <!-- Right Column: Qualifications, Certifications, Skills (lg:col-span-1) -->
            <!-- Added h-full to make the flex container fill the column height -->
            <div class="lg:col-span-1 flex flex-col space-y-6 h-full"> <!-- REDUCED space-y-8 to space-y-6 -->
                
                <!-- Qualifications & Test Scores (ACADEMIC) -->
                <section class="p-4 metric-card rounded-lg"> <!-- REDUCED p-6 to p-4 -->
                    <h2 class="text-2xl font-bold section-header">Education</h2>
                    <!-- Added scrollable container around the table -->
                    <div id="qualificationsTableContainer" class="scrollable-content" style="max-height: 380px;">
                        <table class="education-table w-full">
                            <thead>
                                <tr>
                                    <th>Qualification</th>
                                    <th>Year</th>
                                    <th>Score</th>
                                    <th>Institution/Board</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Sorted by Year (Newest to Oldest) -->
                                <tr>
                                    <td>M.B.A (Financial Mgmt)</td>
                                    <td>2026</td>
                                    <td>Pursuing</td>
                                    <td>IGNOU</td>
                                </tr>
                                <tr>
                                    <td>M.Com</td>
                                    <td>2024</td>
                                    <td>61%</td>
                                    <td>IGNOU</td>
                                </tr>
                                <tr>
                                    <td>PG Diploma in International Operation</td>
                                    <td>2022</td>
                                    <td>62%</td>
                                    <td>IGNOU</td>
                                </tr>
                                <tr>
                                    <td>B.Com</td>
                                    <td>2020</td>
                                    <!-- UPDATED INSTITUTION -->
                                    <td>66%</td>
                                    <td>DU (SOL)</td>
                                </tr>
                                <!-- CA CPT REMOVED FROM HERE -->
                                <tr>
                                    <td>12th (Commerce with Mathematics)</td>
                                    <td>2017</td>
                                    <!-- REMOVED RSBV NO. 2 -->
                                    <td>68%</td>
                                    <td>CBSE</td>
                                </tr>
                                <!-- NEW 10TH GRADE ENTRY -->
                                <tr>
                                    <td>10th Grade</td>
                                    <td>2015</td>
                                    <td>8.2 CGPA</td>
                                    <td>CBSE</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- CORE CERTIFICATIONS SECTION (Static - NISM, CA CPT) -->
                <section class="p-4 metric-card rounded-lg"> <!-- REDUCED p-6 to p-4 -->
                    <h2 class="text-2xl font-bold section-header">Certifications</h2>
                    
                    <div id="coreCertList" class="flex flex-wrap gap-3 text-sm">
                        <!-- Core Certs will be rendered here by JavaScript via renderCoreCerts() -->
                    </div>
                </section>

                <!-- Skills & Tools (Categorized) -->
                <section class="p-4 metric-card rounded-lg"> <!-- REDUCED p-6 to p-4 -->
                    <h2 class="text-2xl font-bold section-header">Skills & Tools</h2>
                    
                    <!-- Tab Buttons for Skills (Functional/Tools/Soft) - Added ARIA -->
                    <div class="flex border-b border-gray-600 -mx-4 px-4" role="tablist"> <!-- REDUCED -mx-6/-px-6 to -mx-4/-px-4 -->
                        <button class="tab-button skills-tab-button active-tab" 
                                onclick="window.openSkillsTab(event, 'functionalSkills')"
                                id="tab-functionalSkills" 
                                role="tab" 
                                aria-controls="functionalSkills" 
                                aria-selected="true">
                            Functional
                        </button>
                        <button class="tab-button skills-tab-button" 
                                onclick="window.openSkillsTab(event, 'toolsSkills')"
                                id="tab-toolsSkills" 
                                role="tab" 
                                aria-controls="toolsSkills" 
                                aria-selected="false">
                            Tools
                        </button>
                        <button class="tab-button skills-tab-button" 
                                onclick="window.openSkillsTab(event, 'softSkills')"
                                id="tab-softSkills" 
                                role="tab" 
                                aria-controls="softSkills" 
                                aria-selected="false">
                            Soft Skills
                        </button>
                    </div>

                    <!-- Tab Content Container with fixed height/scroll -->
                    <div id="skillsTabContent" class="scrollable-content" style="max-height: 250px;">
                        
                        <!-- Functional Skills Tab Content (Domain-specific, Default Active) -->
                        <div id="functionalSkills" class="skills-tab-content space-y-2" role="tabpanel" aria-labelledby="tab-functionalSkills" style="display: block;"> <!-- REDUCED space-y-3 to space-y-2 -->
                            <h3 class="text-sm font-semibold text-gray-400 mb-0">Finance/FP&A</h3> <!-- REDUCED mb-1 to mb-0 -->
                            <div class="flex flex-wrap gap-2 text-sm skill-group-container">
                                <span class="skill-tag">FP&A Automation</span>
                                <span class="skill-tag">Python for Finance</span>
                                <span class="skill-tag">AI Strategy & Prompt Eng.</span>
                                <span class="skill-tag">Financial Modelling</span>
                                <span class="skill-tag">Project Finance</span>
                                <span class="skill-tag">Working Capital</span>
                                <span class="skill-tag">RPA</span>
                                <span class="skill-tag">App Development</span>
                            </div>
                            
                            <h3 class="text-sm font-semibold text-gray-400 mb-0 mt-2">Accounting/Compliance</h3> <!-- REDUCED mb-1/mt-3 to mb-0/mt-2 -->
                            <div class="flex flex-wrap gap-2 text-sm skill-group-container">
                                <span class="skill-tag">GST/TDS Compliance</span>
                                <span class="skill-tag">Asset Accounting</span>
                                <span class="skill-tag">IFRS/IndAs</span>
                                <span class="skill-tag">Vendor Management (AP)</span>
                            </div>
                        </div>
                        
                        <!-- Tools Skills Tab Content (Technical & Software) -->
                        <div id="toolsSkills" class="skills-tab-content space-y-2" role="tabpanel" aria-labelledby="tab-toolsSkills" style="display: none;"> <!-- REDUCED space-y-3 to space-y-2 -->
                            
                            <h3 class="text-sm font-semibold text-gray-400 mb-0">Core Systems/Data</h3> <!-- REDUCED mb-1 to mb-0 -->
                            <div class="flex flex-wrap gap-2 text-sm skill-group-container">
                                <span class="skill-tag">Python</span>
                                <span class="skill-tag">Advanced Excel</span>
                                <span class="skill-tag">SAP (FICO/MM)</span>
                                <span class="skill-tag">MS Office Suite</span>
                                <span class="skill-tag">Tally</span>
                            </div>
                            
                            <h3 class="text-sm font-semibold text-gray-400 mb-0 mt-2">Automation/AI</h3> <!-- REDUCED mb-1/mt-3 to mb-0/mt-2 -->
                            <div class="flex flex-wrap gap-2 text-sm skill-group-container">
                                <span class="skill-tag">Generative AI</span>
                                <span class="skill-tag">Google Data Analytics</span>
                            </div>
                        </div>

                        <!-- Soft Skills Tab Content (Unchanged) - Heading Removed -->
                        <div id="softSkills" class="skills-tab-content space-y-2" role="tabpanel" aria-labelledby="tab-softSkills" style="display: none;"> <!-- REDUCED space-y-3 to space-y-2 -->
                             <h3 class="text-sm font-semibold text-gray-400 mb-0">Key Soft Skills</h3> <!-- REDUCED mb-1 to mb-0 -->
                            <div class="flex flex-wrap gap-2 text-sm skill-group-container">
                                <span class="skill-tag">Leadership</span>
                                <span class="skill-tag">Adaptability</span>
                                <span class="skill-tag">Problem-solving</span>
                                <span class="skill-tag">Critical Thinking</span>
                            </div>
                        </div>

                    </div>
                </section>
                
                <!-- PROFESSIONAL DEVELOPMENT CERTIFICATIONS SECTION (Dynamic - Remaining Certs) -->
                <section class="p-4 metric-card rounded-lg flex flex-col" style="min-height: 290px;"> <!-- REDUCED p-6 to p-4, min-height preserved for consistency -->
                    <h2 class="text-2xl font-bold section-header">Certifications</h2>
                    
                    <!-- Filtering and Sorting Controls -->
                    <div class="flex flex-col space-y-2 mb-3"> <!-- REDUCED space-y-3 to space-y-2, mb-4 to mb-3 -->
                        <!-- Filtering Dropdown -->
                        <div>
                            <select id="filterDomain" onchange="window.filterCertifications(this.value)" class="w-full bg-[#1f2328] border border-gray-600 text-white text-sm rounded-lg p-2.5 focus:ring-[#238636] focus:border-[#238636] transition duration-200" aria-label="Filter certifications by domain">
                                <option value="All">All</option>
                                <option value="Finance & Accounts">Finance & Accounts</option>
                                <option value="Tech & Automation">Tech & Automation</option>
                            </select>
                        </div>
                        
                        <!-- Sorting Buttons - Added ARIA -->
                        <div class="flex space-x-2 pt-2" role="group" aria-label="Certification sorting options">
                            <button id="sortRelevance" class="sort-button active px-3 py-1 text-xs rounded-full border border-gray-600 bg-[#238636] text-white transition duration-200" 
                                    onclick="window.sortCertifications('relevance')" aria-pressed="true">
                                Sort by Relevance
                            </button>
                            <button id="sortDate" class="sort-button px-3 py-1 text-xs rounded-full border border-gray-600 hover:bg-gray-700 text-gray-300 transition duration-200" 
                                    onclick="window.sortCertifications('date')" aria-pressed="false">
                                Sort by Date
                            </button>
                        </div>
                    </div>

                    <!-- List Container: FILLS REMAINING SPACE AND IS SCROLLABLE -->
                    <!-- *** APPLIED FIXED MAX-HEIGHT AND SCROLLING HERE *** -->
                    <div id="professionalDevelopmentList" class="scrollable-content flex flex-wrap gap-2 text-sm" style="max-height: 220px;"> 
                        <!-- Certifications will be rendered here by JavaScript -->
                    </div>
                    
                </section>
                
            </div>
        </div>

        
        <!-- FOOTER SECTION - MODIFIED TO INCLUDE CREDIT AND LINK -->
        <section class="mt-8 text-center border-t border-gray-700 pt-4"> <!-- REDUCED mt-16/pt-6 to mt-8/pt-4 -->
            <!-- Feature Suggestion Link - RENAMED -->
            <a href="https://tawk.to/chat/68efdd0e7e16ad19527ac96f/1j7kff0qq" target="_blank" class="text-gray-500 hover:text-[#238636] font-semibold transition duration-200 inline-block text-sm" aria-label="Start a direct chat with Zenith">
                Chat with Zenith my AI powered Assistant.
            </a>

            <!-- Credit Line -->
            <div class="mt-4 text-sm text-gray-500">
                 Navneet Chaudhary
            </div>
        </section>

    </div>
    
    <!-- MODAL DEFINITIONS (No longer needed to be fixed/floating) -->
    
    <!-- MEDIA MODAL (New popup for X and YouTube) -->
    <div id="mediaModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="media-modal-title">
        <div class="modal-content">
            <!-- UPDATED onclick to use new function -->
            <span class="close-button" onclick="window.closeMediaModal()" aria-label="Close media modal">&times;</span>
            <h2 id="media-modal-title" class="text-3xl font-bold section-header text-white mb-6">Digital Portfolio: Social & Video</h2>
            
            <div class="h-[90%] overflow-y-auto">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-full">
                    
                    <!-- LEFT COLUMN: X TIMELINE -->
                    <div class="flex flex-col space-y-4">
                        <h3 class="text-xl font-semibold text-[#58a6ff]">My X (Twitter) Feed</h3>
                        <div class="bg-[#1f2328] p-4 rounded-lg flex-grow min-h-0 overflow-y-auto border border-[#30363d]">
                            <!-- X Timeline Embed Code -->
                            <!-- data-height="500" ensures it fits nicely in the container -->
                            <a class="twitter-timeline" data-height="500" data-theme="dark" href="https://twitter.com/navneet831?ref_src=twsrc%5Etfw">Tweets by navneet831</a> 
                            <!-- The script to render this timeline is placed at the end of the body -->
                        </div>
                    </div>
                    
                    <!-- RIGHT COLUMN: YOUTUBE VIDEO -->
                    <div class="flex flex-col space-y-4">
                        <h3 class="text-xl font-semibold text-[#58a6ff]">My Automation Insights (YouTube)</h3>
                        <div class="bg-[#1f2328] p-4 rounded-lg flex-grow min-h-0 border border-[#30363d]">
                            <!-- Responsive YouTube Embed Container (Placeholder) -->
                            <div class="responsive-iframe-container">
                                <!-- MODIFIED: iframe now uses ID and has initial SRC removed. SRC will be set on open. -->
                                <iframe id="youtubeIframe"
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen 
                                        title="YouTube video player - FP&A Automation">
                                </iframe>
                            </div>
                            <p class="text-sm text-gray-400 mt-4">
                                <b class="text-white">Video Description:</b> A demonstration of key automation processes using Python, designed to accelerate financial close and MIS reporting. This showcases practical application of the automation skills listed in my portfolio.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- MIND MAP MODAL (Integrated Mind Map HTML) -->
    <div id="mindMapModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="mindmap-modal-title">
        <div class="modal-content">
            <!-- UPDATED onclick to use new function -->
            <span class="close-button" onclick="window.closeMindMapModal()" aria-label="Close mind map modal">&times;</span>
            <h2 id="mindmap-modal-title" class="text-3xl font-bold section-header text-white mb-6">Professional Profile: Mind Map</h2>
            
            <!-- INTEGRATED MIND MAP CONTENT HERE -->
            <div id="mindmap-container" class="relative overflow-auto" style="min-height: 80vh; padding: 3rem 2rem;">
                <!-- SVG for lines is positioned absolutely -->
                <svg id="mindmap-svg" style="background-color: #121212;"></svg>
                
                <!-- The mind map structure starts here. Root acts as a single node container. -->
                <div id="mindmap-root" class="relative z-10 flex flex-row items-center"></div>
            </div>
            
            <p class="text-sm text-gray-400 mt-4">
                This interactive mind map visualizes my professional journey, skills, and education in a structured, hierarchical format.
            </p>
        </div>
    </div>

    <!-- COVER LETTER MODAL (New Tab Simulation) - Added ARIA Role -->
    <div id="coverLetterModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-content">
            <span class="close-button" onclick="document.getElementById('coverLetterModal').style.display='none'" aria-label="Close modal">&times;</span>
            <h2 id="modal-title" class="text-3xl font-bold section-header text-white mb-6">Cover Letter / Statement of Intent</h2>
            <blockquote class="p-4 border-l-4 border-[#238636] bg-[#1f2328] rounded-r-lg text-gray-300 italic text-base">
                <p class="mb-4 text-white font-semibold">TARGETING: $\text{}20-25\text{L}$ Assistant Manager, FP&A / Immediate Join</p>
                <p class="mb-4">I am writing to express my strong interest in a senior F&A role. With 6+ years of expertise spanning <b>FP&A, strategic finance, and compliance</b>, my value is defined by measurable process automation. I successfully leveraged <b>Python and Generative AI</b> to drive efficiency, cutting manual MIS effort by <b>80%</b> and securing timely bank funding during a liquidity crunch.</p>
                <p class="mb-4">My background, solidified by the <b>CA CPT, NISM, and Financial Modelling</b> certifications, ensures compliance and strategic financial execution. My recent transitions were due to organizational changes and unavoidable family medical leave, which I utilized to secure the <b>Google Data Analytics Certification</b>strengthening my toolkit for immediate impact.</p>
                <p>I offer a disciplined, automation-focused approach ready to drive fiscal health in a forward-thinking organization. The detailed financial model for my automation initiatives is attached via Linktree.</p>
                <footer class="mt-4 text-right text-sm text-gray-500">
                     Navneet Chaudhary
                </footer>
            </blockquote>
        </div>
    </div>
    
    <!-- Tawk.to Integration Script (UPDATED with new Widget ID) -->
    <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/68efdd0e7e16ad19527ac96f/1j7kff0qq';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    
    <!-- Load Twitter Widgets script (Needed for the X timeline in the modal) -->
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    
    <!-- Combined and updated JavaScript logic in a single module block -->
    <script type="module">
        // --- Firebase Setup (Minimal Auth for compliance) ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        if (Object.keys(firebaseConfig).length > 0) {
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            signInAnonymously(auth).catch(e => console.error("Firebase Auth Error:", e));
        }

        // --- MIND MAP DATA ---
        const mindMapData = {
            id: 0, title: "Navneet Chaudhary", isRoot: true, expanded: true, nodeClass: 'root-node',
            children: [
                // --- EDUCATION & CERTIFICATIONS BRANCH (RECENT TO PAST) ---
                {
                    id: 1, title: "Education & Certifications", expanded: true, nodeClass: 'level-1-node', children: [
                        // 1. MBA FM (2025  2026)
                        { id: 14, title: "2025  2026", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 15, title: "MBA (Financial Management) | IGNOU (Planned)", nodeClass: 'level-3-node' }
                        ]},
                        // 2. NISM Research Analyst (June 2024)
                        { id: 8, title: "June 2024", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 9, title: "Research Analyst | NISM", nodeClass: 'level-3-node' }
                        ]},
                        // 3. M.Com (2023  2024)
                        { id: 6, title: "2023  2024", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 7, title: "M.Com | IGNOU", nodeClass: 'level-3-node' }
                        ]},
                        // 4. Financial Modeling (Aug 2023)
                        { id: 12, title: "Aug 2023", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 13, title: "Financial Modeling | The Wall Street School", nodeClass: 'level-3-node' }
                        ]},
                        // 5. PGDIB (2021  2022)
                        { id: 4, title: "2021  2022", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 5, title: "PGDIB | IGNOU", nodeClass: 'level-3-node' }
                        ]},
                        // 6. B.Com (2018  2020)
                        { id: 2, title: "2018  2020", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 3, title: "B.Com | SOL DU", nodeClass: 'level-3-node' }
                        ]},
                        // 7. CA CPT (2018)
                        { id: 10, title: "2018", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 11, title: "CA CPT | ICAI", nodeClass: 'level-3-node' }
                        ]},
                    ]
                },
                // --- EXPERIENCE BRANCH (RECENT TO PAST) ---
                { 
                    id: 100, title: "Experience", expanded: true, nodeClass: 'level-1-node', children: [
                        
                        // 1. Current Break (Sep '25  Present) - Carer Break
                        { id: 118, title: "Sep '25  Present", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 119, title: "Carer Break", nodeClass: 'level-3-node' }
                        ]},
                        
                        // 2. Oriana (Jun '25  Sep '25)
                        { id: 115, title: "Jun '25  Sep '25", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 116, title: "Oriana Power Ltd", expanded: true, nodeClass: 'level-3-node', children: [
                                { id: 117, title: "Asst. Manager F&A", nodeClass: 'level-4-node', children: [
                                    { id: 205, title: "Handled financial closing.", nodeClass: 'level-5-node' }
                                ]}
                            ]}
                        ]},
                        
                        // 3. Grew Energy (Dec '24  Jun '25)
                        { id: 112, title: "Dec '24  Jun '25", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 113, title: "Grew Energy Pvt Ltd", expanded: true, nodeClass: 'level-3-node', children: [
                                { id: 114, title: "Asst. Manager F&A", nodeClass: 'level-4-node', children: [
                                    { id: 204, title: "Oversaw Capex management.", nodeClass: 'level-5-node' }
                                ]}
                            ]}
                        ]},
                        
                        // 4. Carer Break (Sep '24  Nov '24) - Bifurcated
                        { id: 110, title: "Sep '24  Nov '24", expanded: true, nodeClass: 'level-2-node', children: [
                            { 
                                id: 111, 
                                title: "Carer Break", 
                                expanded: true, 
                                nodeClass: 'level-3-node',
                                children: [
                                    { id: 401, title: "Focus on Mother's Treatment", nodeClass: 'level-4-node' },
                                    { id: 402, title: "Volunteer Work (Robinhood Army)", nodeClass: 'level-4-node' }
                                ]
                            }
                        ]},
                        
                        // 5. Ozone (Feb '22  Aug '24)
                        { id: 107, title: "Feb '22  Aug '24", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 108, title: "Ozone Pharmaceuticals Ltd.", expanded: true, nodeClass: 'level-3-node', children: [
                                { id: 109, title: "Senior Executive F&A", nodeClass: 'level-4-node', children: [
                                    { id: 203, title: "Managed P&L for a 20 Cr portfolio.", nodeClass: 'level-5-node' }
                                ]}
                            ]}
                        ]},
                        
                        // 6. SMH (Feb '21  Feb '22)
                        { id: 104, title: "Feb '21  Feb '22", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 105, title: "Shanti Mukand Hospital", expanded: true, nodeClass: 'level-3-node', children: [
                                { id: 106, title: "Junior Executive F&A", nodeClass: 'level-4-node', children: [
                                    { id: 202, title: "Handled daily accounting operations.", nodeClass: 'level-5-node' }
                                ]}
                            ]}
                        ]},
                        
                        // 7. KGC (Feb '19  Jan '21) - Oldest
                        { id: 101, title: "Feb '19  Jan '21", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 102, title: "Kumar Grover & Co.", expanded: true, nodeClass: 'level-3-node', children: [
                                { id: 103, title: "Accounts Assistant", nodeClass: 'level-4-node', children: [
                                    { id: 201, title: "Managed ledger posting and journal entries.", nodeClass: 'level-5-node' }
                                ]}
                            ]}
                        ]},
                    ]
                },
                // --- SKILLS BRANCH (Consolidated) ---
                { 
                    id: 300, title: "Skills", expanded: true, nodeClass: 'level-1-node', children: [
                        // Tech & Automation
                        { id: 301, title: "Tech & Automation", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 302, title: "Advanced MS Excel / VBA", nodeClass: 'level-3-node' },
                            { id: 303, title: "Python (RPA, Data Analysis)", nodeClass: 'level-3-node' },
                            // Bifurcated ERP
                            { 
                                id: 304, title: "ERP Systems", expanded: true, nodeClass: 'level-3-node', children: [
                                    { id: 305, title: "SAP FICO/MM", nodeClass: 'level-4-node' },
                                    { id: 306, title: "Tally", nodeClass: 'level-4-node' }
                                ]
                            },
                        ]},
                        // Finance & Compliance
                        { id: 308, title: "Finance & Compliance", expanded: true, nodeClass: 'level-2-node', children: [
                            { id: 309, title: "FP&A / MIS / Cost Control", nodeClass: 'level-3-node' },
                            { id: 310, title: "Accounting & Financial Reporting (GAAP)", nodeClass: 'level-3-node' },
                            { id: 311, title: "Statutory Taxation (GST, TDS, TCS)", nodeClass: 'level-3-node' },
                            { id: 312, title: "Statutory & Stock Audit Management", nodeClass: 'level-3-node' },
                        ]}
                    ]
                }
            ]
        };

        // --- MIND MAP JS FUNCTIONS START ---
        
        // Global Mind Map variables
        const mindMapRootElement = document.getElementById('mindmap-root');
        const svgElement = document.getElementById('mindmap-svg');
        let animationFrameId = null;

        /**
         * Recursively sets the 'expanded' flag to false for all non-root nodes.
         */
        window.collapseAllNodes = function(node) {
            if (node && 'expanded' in node) {
                // Only collapse if it's not the root node (id: 0)
                if (node.id !== 0) {
                    node.expanded = false;
                }
            }
            if (node && node.children) {
                node.children.forEach(child => window.collapseAllNodes(child));
            }
        }
        
        // Ensure initial data state is collapsed, except for root
        window.collapseAllNodes(mindMapData);

        // --- UTILITY FUNCTIONS ---
        window.findNodeById = function(current, id) {
            if (current.id === id) return current;
            if (current.children) {
                for (const child of current.children) {
                    const found = window.findNodeById(child, id);
                    if (found) return found;
                }
            }
            return null;
        }
        
        window.debounce = function(func, delay) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), delay);
            };
        }

        // --- RENDERING & LINE DRAWING (The Mind Map Logic) ---

        /**
         * Renders a single node and recursively its children, laying them out horizontally.
         */
        window.renderNode = function(node, parentElement) {
            const nodeContainer = document.createElement('div');
            nodeContainer.classList.add('node-container', 'flex', 'flex-row', 'items-center', 'relative');
            nodeContainer.dataset.nodeId = node.id;
            nodeContainer.dataset.parentId = node.parentId; 

            // Create Node Content (The box)
            const content = document.createElement('div');
            // Accessibility & Focus
            content.setAttribute('tabindex', '0');
            content.setAttribute('role', node.children && node.children.length > 0 ? 'button' : 'listitem');

            let nodeClasses = ['node-content', 'inline-flex', 'items-center', 'justify-center', 'select-none', 'whitespace-nowrap', 'transition', 'duration-150', 'hover:shadow-xl'];
            
            // Assign specific class based on level
            if (node.isRoot) {
                nodeClasses.push('root-node');
            } else if (node.nodeClass === 'level-1-node') {
                nodeClasses.push('level-1-node');
            } else if (node.nodeClass === 'level-2-node') {
                nodeClasses.push('level-2-node');
            } else if (node.nodeClass === 'level-3-node') {
                nodeClasses.push('level-3-node');
            } else if (node.nodeClass === 'level-4-node') {
                nodeClasses.push('level-4-node');
            } else if (node.nodeClass === 'level-5-node') {
                nodeClasses.push('level-5-node');
            }
            
            content.classList.add(...nodeClasses);
            content.innerHTML = `<span>${node.title.replace('\n', '<br>')}</span>`;

            nodeContainer.appendChild(content);

            // Add Collapsible Icon and Logic if node has children
            if (node.children && node.children.length > 0) {
                const icon = document.createElement('span');
                icon.classList.add('collapse-icon', 'text-white/80', 'font-bold');
                icon.innerHTML = node.expanded ? '&#9660;' : '&#9654;'; //  for expanded,  for collapsed
                
                content.setAttribute('aria-expanded', node.expanded);

                content.appendChild(icon);
                
                const toggle = () => {
                    // Use closure to capture the node and icon
                    window.toggleCollapse(node, icon);
                };

                // Add event listeners for both click and keyboard (Enter/Space)
                content.addEventListener('click', toggle);
                content.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggle();
                    }
                });
            }

            parentElement.appendChild(nodeContainer);

            // Create Children Wrapper (to hold sub-nodes vertically)
            if (node.children && node.children.length > 0) {
                const childrenWrapper = document.createElement('div');
                childrenWrapper.classList.add('children-wrapper');
                childrenWrapper.id = `children-of-${node.id}`;
                
                // Add specific spacing classes for vertical siblings
                if (node.nodeClass === 'root-node') childrenWrapper.classList.add('level-1-children');
                else if (node.nodeClass === 'level-1-node') childrenWrapper.classList.add('level-2-children');
                else if (node.nodeClass === 'level-2-node') childrenWrapper.classList.add('level-3-children');
                else if (node.nodeClass === 'level-3-node') childrenWrapper.classList.add('level-4-children');
                else if (node.nodeClass === 'level-4-node') childrenWrapper.classList.add('level-5-children');


                if (!node.expanded) {
                    childrenWrapper.classList.add('hidden'); 
                }

                nodeContainer.appendChild(childrenWrapper); 

                // Recursive call for children
                node.children.forEach(child => {
                    child.parentId = node.id;
                    window.renderNode(child, childrenWrapper);
                });
            }
        }


        /**
         * Toggles the expanded state of a node and re-draws the map.
         */
        window.toggleCollapse = function(node, icon) {
            node.expanded = !node.expanded;
            
            const childrenWrapper = document.getElementById(`children-of-${node.id}`);
            
            if (childrenWrapper) {
                if (node.expanded) {
                    childrenWrapper.classList.remove('hidden');
                    icon.innerHTML = '&#9660;'; // 
                } else {
                    childrenWrapper.classList.add('hidden');
                    icon.innerHTML = '&#9654;'; // 
                }
            }

            const nodeContent = document.querySelector(`[data-node-id="${node.id}"] .node-content`);
            if (nodeContent) {
                   nodeContent.setAttribute('aria-expanded', node.expanded);
            }
            
            // Debounce the line drawing
            window.debouncedDrawLines(); 
        }

        /**
         * Draws the Tree Connector.
         */
        window.drawLines = function() {
            if (!svgElement) return; // Guard in case the element isn't ready
            svgElement.innerHTML = ''; 
            
            const container = document.getElementById('mindmap-container');
            if (!container) return; // Guard for container
            
            const containerRect = container.getBoundingClientRect();
            
            // Find map bounds
            let mapMinX = Infinity;
            let mapMinY = Infinity;
            let mapMaxX = 0;
            let mapMaxY = 0;

            // Get all node rectangles to determine the total size of the map content
            document.querySelectorAll('#mindMapModal .node-content').forEach(el => {
                const rect = el.getBoundingClientRect();
                mapMinX = Math.min(mapMinX, rect.left);
                mapMinY = Math.min(mapMinY, rect.top);
                mapMaxX = Math.max(mapMaxX, rect.right);
                mapMaxY = Math.max(mapMaxY, rect.bottom);
            });

            // If no nodes are visible, stop drawing
            if (mapMinX === Infinity) return;


            // Adjust SVG size to cover all content plus padding/scroll
            const scrollX = container.scrollLeft;
            const scrollY = container.scrollTop;
            
            // Calculate size based on content and scroll
            const svgWidth = (mapMaxX - containerRect.left) + scrollX + 50; 
            const svgHeight = (mapMaxY - containerRect.top) + scrollY + 50;
            
            svgElement.setAttribute('width', svgWidth + 'px');
            svgElement.setAttribute('height', svgHeight + 'px');
            
            const parentNodes = document.querySelectorAll('#mindMapModal .node-container'); 

            parentNodes.forEach(parentNodeContainer => {
                const parentId = parseInt(parentNodeContainer.dataset.nodeId);
                const parentNodeData = window.findNodeById(mindMapData, parentId);
                
                if (parentNodeData && parentNodeData.expanded && parentNodeData.children) {
                    const childrenWrapper = document.getElementById(`children-of-${parentId}`);
                    if (!childrenWrapper || childrenWrapper.classList.contains('hidden')) return;

                    const parentContent = parentNodeContainer.querySelector('.node-content');
                    if (!parentContent) return;

                    const parentRect = parentContent.getBoundingClientRect();
                    
                    // --- 1. Calculate Parent Connection Point (Relative to SVG origin) ---
                    const startX = parentRect.right - containerRect.left + scrollX;
                    const startY = parentRect.top - containerRect.top + scrollY + parentRect.height / 2;
                    
                    // --- 2. Calculate Children Stack Bounds ---
                    const visibleChildren = parentNodeData.children.map(child => {
                        const childContainer = document.querySelector(`[data-node-id="${child.id}"]`);
                        if (childContainer && childContainer.offsetParent !== null && !childContainer.closest('.hidden')) {
                            const childContent = childContainer.querySelector('.node-content');
                            if (childContent) {
                                const rect = childContent.getBoundingClientRect();
                                return {
                                    rect: rect,
                                    // Calculate relative to SVG origin (taking container scroll into account)
                                    x: rect.left - containerRect.left + scrollX, 
                                    y: rect.top - containerRect.top + scrollY + rect.height / 2 
                                };
                            }
                        }
                        return null;
                    }).filter(c => c !== null);

                    if (visibleChildren.length === 0) return;

                    // The Anchor Point (Vertical Spine Position)
                    const anchorX = startX + 30; 
                    
                    const firstChildY = visibleChildren[0].y;
                    const lastChildY = visibleChildren[visibleChildren.length - 1].y;

                    // --- 3. Draw Main Connector (Horizontal + Vertical Spine) ---
                    const mainPath = document.createElementNS("http://www.w3.org/2000/svg", 'path');
                    
                    const spinePath = `M ${startX} ${startY} 
                                       H ${anchorX} 
                                       M ${anchorX} ${firstChildY} 
                                       V ${lastChildY}`;
                                       
                    mainPath.setAttribute('d', spinePath);
                    mainPath.classList.add('connector-line');
                    svgElement.appendChild(mainPath);

                    // --- 4. Draw Spokes to Each Child ---
                    visibleChildren.forEach(child => {
                        const spokePath = document.createElementNS("http://www.w3.org/2000/svg", 'path');
                        
                        const dPath = `M ${anchorX} ${child.y} 
                                       H ${child.x}`;
                                       
                        spokePath.setAttribute('d', dPath);
                        spokePath.classList.add('connector-line');
                        svgElement.appendChild(spokePath);
                    });
                }
            });
        }
        
        // Debounced version of drawLines for performance stabilization
        window.debouncedDrawLines = window.debounce(window.drawLines, 50);

        /**
         * Cleans up the mind map by removing lines and listeners.
         */
        window.stopLineDrawing = function() {
            if (svgElement) svgElement.innerHTML = '';
            const container = document.getElementById('mindmap-container');
            if (container) {
                 container.removeEventListener('scroll', window.debouncedDrawLines);
            }
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
                animationFrameId = null;
            }
        }

        /**
         * Main initialization function
         */
        window.initializeMindMap = function() {
            if (!mindMapRootElement) return;

            // Clear and re-render the map structure
            mindMapRootElement.innerHTML = ''; 
            
            // Re-collapse all nodes (to ensure it resets if it was expanded)
            window.collapseAllNodes(mindMapData);

            const rootContainer = document.createElement('div');
            rootContainer.classList.add('flex', 'flex-row', 'items-center');
            
            // 1. Create the Root Node Content
            const rootContentContainer = document.createElement('div');
            rootContentContainer.classList.add('node-container', 'flex', 'flex-row', 'items-center', 'relative');
            rootContentContainer.dataset.nodeId = mindMapData.id;
            
            const rootContent = document.createElement('div');
            rootContent.classList.add('node-content', 'root-node', 'inline-flex', 'items-center', 'justify-center');
            rootContent.innerHTML = `<span>${mindMapData.title.replace('\n', '<br>')}</span>`; 
            rootContentContainer.appendChild(rootContent);
            
            mindMapRootElement.appendChild(rootContentContainer);

            // 2. Render Children (Level 1 branches) into a wrapper that is right of the root node
            const childrenWrapper = document.createElement('div');
            childrenWrapper.classList.add('children-wrapper', 'level-0-children'); 
            childrenWrapper.id = `children-of-${mindMapData.id}`;
            childrenWrapper.style.gap = '2.5rem'; 

            mindMapData.children.forEach(child => {
                child.parentId = mindMapData.id;
                window.renderNode(child, childrenWrapper);
            });
            
            rootContentContainer.appendChild(childrenWrapper);

            // Set up scroll listener for line drawing 
            document.getElementById('mindmap-container').addEventListener('scroll', window.debouncedDrawLines);

            // Initial draw must be wrapped in requestAnimationFrame to wait for DOM layout
            requestAnimationFrame(() => requestAnimationFrame(window.debouncedDrawLines)); 
        }

        // --- CORE APPLICATION LOGIC (Moved and combined from previous script block) ---
        
        // --- MODAL CONTROL LOGIC (UPDATED for Mind Map integration) ---
        // NEW CODE: This is the full playlist embed URL from your provided iframe.
        // I'm adding &autoplay=1 to the list of parameters.
        const YOUTUBE_PLAYLIST_URL = `https://www.youtube.com/embed/videoseries?si=9mHBVcTfsvRmGglI&list=PLEfUln3m0PdhgiQzVE2GM8cwd8WqyfWw2&autoplay=1`;
        
        // Function to open media modal and start video
        window.openMediaModal = function() {
            document.getElementById('mediaModal').style.display = 'block';
            const youtubeIframe = document.getElementById('youtubeIframe');
            // Set the src to the NEW PLAYLIST URL to enable playback when modal is opened
            if (youtubeIframe) {
                youtubeIframe.src = YOUTUBE_PLAYLIST_URL;
            }
        }

        // Function to close media modal and stop video
        window.closeMediaModal = function() {
            document.getElementById('mediaModal').style.display = 'none';
            const youtubeIframe = document.getElementById('youtubeIframe');
            // Remove the src to stop video playback in the background
            if (youtubeIframe) {
                youtubeIframe.src = '';
            }
        }
        
        // Mind Map Modal Control (Now initializes the integrated map)
        window.openMindMapModal = function() {
            document.getElementById('mindMapModal').style.display = 'block';
            // IMPORTANT: Initialize and render the mind map now that the modal is visible
            window.initializeMindMap();
        }

        // Function to close mind map modal and stop line drawing/listeners
        window.closeMindMapModal = function() {
            document.getElementById('mindMapModal').style.display = 'none';
            window.stopLineDrawing(); // Clean up listeners and SVG lines
        }
        
        // --- ACHIEVEMENT TAB LOGIC (UNCHANGED) ---
        window.openTab = function(evt, tabName) {
            const tabcontent = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].setAttribute('aria-hidden', 'true');
            }
            const tablinks = document.querySelectorAll(".flex:has(button[onclick^='window.openTab']) .tab-button");
            for (let i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active-tab");
                tablinks[i].style.borderBottomColor = "transparent";
                tablinks[i].setAttribute('aria-selected', 'false');
            }
            const currentTab = document.getElementById(tabName);
            currentTab.style.display = "block";
            currentTab.setAttribute('aria-hidden', 'false');
            if (evt && evt.currentTarget) {
                evt.currentTarget.classList.add("active-tab");
                evt.currentTarget.style.borderBottomColor = "#238636";
                evt.currentTarget.setAttribute('aria-selected', 'true');
            }
            document.getElementById('achievementsContainer').scrollTop = 0;
        }
        
        // --- SKILLS TAB LOGIC (UNCHANGED) ---
        window.openSkillsTab = function(evt, tabName) {
            const tabContents = document.getElementsByClassName("skills-tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = "none";
                tabContents[i].setAttribute('aria-hidden', 'true');
            }
            const tabButtons = document.getElementsByClassName("skills-tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active-tab");
                tabButtons[i].style.borderBottomColor = "transparent";
                tabButtons[i].setAttribute('aria-selected', 'false');
            }
            const currentTab = document.getElementById(tabName);
            currentTab.style.display = "block";
            currentTab.setAttribute('aria-hidden', 'false');
            if (evt && evt.currentTarget) {
                evt.currentTarget.classList.add("active-tab");
                evt.currentTarget.style.borderBottomColor = "#238636";
                evt.currentTarget.setAttribute('aria-selected', 'true');
            }
            document.getElementById('skillsTabContent').scrollTop = 0;
        }
        
        // --- REASON FOR LEAVE LOGIC (UNCHANGED) ---
        window.toggleReason = function(button, reasonId) {
            const reasonElement = document.getElementById(reasonId);
            const iconElement = button.querySelector('span');
            const isExpanded = reasonElement.classList.contains('expanded');
            button.setAttribute('aria-expanded', !isExpanded);
            if (isExpanded) {
                reasonElement.classList.remove('expanded');
                iconElement.textContent = '+';
            } else {
                reasonElement.classList.add('expanded');
                iconElement.textContent = '';
            }
        }

        // --- CERTIFICATION DATA AND SORTING & FILTERING LOGIC (UNCHANGED) ---
        var certifications = [
            // Core Certs (isCoreCert: true)
            { title: 'CA CPT', issuer: 'ICAI', date: 20180101, displayDate: '2018', relevance: 1, priority: 1, domain: 'Finance & Accounts', score: '71.5%', isCoreCert: true }, 
            { title: 'Research Analyst', issuer: 'NISM 15', date: 20240726, displayDate: 'Jul 24', relevance: 1, priority: 2, domain: 'Finance & Accounts', expiryDate: 20270722, score: '64.25%', isCoreCert: true }, 
            
            // PROFESSIONAL DEVELOPMENT SECTION (isCoreCert: false)
            { title: 'Financial Modelling', issuer: 'Wall Street School', date: 20230801, displayDate: 'Aug 23', relevance: 1, priority: 0.5, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Finance for Managers', issuer: 'IESE Business School', date: 202312001, displayDate: 'Dec 23', relevance: 1, priority: 3, domain: 'Finance & Accounts', isCoreCert: false }, 
            { title: 'PwC GST Taxation Executive', issuer: 'PwC India', date: 20230801, displayDate: 'Aug 23', relevance: 1, priority: 4, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Google Data Analytics', issuer: 'Google', date: 20250101, displayDate: 'Jan 25', relevance: 2, priority: 5, domain: 'Tech & Automation', isCoreCert: false }, 
            { title: 'AI for everyone', issuer: 'DeepMind.AI', date: 20240101, displayDate: 'Jan 24', relevance: 2, priority: 6, domain: 'Tech & Automation', isCoreCert: false }, 
            { title: 'Excel Basics For Data Analysis', issuer: 'IBM / Coursera', date: 20231227, displayDate: 'Dec 23', relevance: 2, priority: 7, domain: 'Tech & Automation', isCoreCert: false }, 
            { title: 'Private Equity & VC', issuer: 'Bocconi', date: 20240201, displayDate: 'Feb 24', relevance: 3, priority: 8, domain: 'Finance & Accounts', isCoreCert: false }, 
            { title: 'Investment Banking', issuer: '365 Financial Analyst', date: 20231112, displayDate: 'Nov 23', relevance: 3, priority: 9, domain: 'Finance & Accounts', isCoreCert: false }, 
            { title: 'Introduction to Generative AI', issuer: 'Google', date: 20231209, displayDate: 'Dec 23', relevance: 2, priority: 10, domain: 'Tech & Automation', isCoreCert: false },
            { title: 'The Role of the FP&A Professional', issuer: 'CFI', date: 20231022, displayDate: 'Oct 23', relevance: 1, priority: 11, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'FP&A: Building a Company\'s Budget', issuer: '365 Financial Analyst', date: 20231112, displayDate: 'Nov 23', relevance: 1, priority: 12, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Accounting Fundamentals', issuer: 'CFI', date: 20231023, displayDate: 'Oct 23', relevance: 1, priority: 13, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Introduction to Valuation with WACC', issuer: 'Coursera', date: 20231217, displayDate: 'Dec 23', relevance: 1, priority: 15, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Investment Risk Management', issuer: 'Coursera', date: 20231217, displayDate: 'Dec 23', relevance: 3, priority: 16, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Data Analysis with Excel Pivot Tables', issuer: '365 Financial Analyst', date: 20231112, displayDate: 'Nov 23', relevance: 2, priority: 17, domain: 'Tech & Automation', isCoreCert: false },
            { title: 'International Business', issuer: 'Coursera', date: 20231224, displayDate: 'Dec 23', relevance: 3, priority: 18, domain: 'Finance & Accounts', isCoreCert: false }, 
            { title: 'Introduction to Financial Control', issuer: 'Udemy', date: 20250901, displayDate: 'Sep 25', relevance: 1, priority: 19, domain: 'Finance & Accounts', isCoreCert: false }, 
            { title: 'Introduction to Corporate Finance', issuer: 'Great Learning', date: 20230801, displayDate: 'Aug 23', relevance: 1, priority: 21, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Fundamental of Taxation', issuer: 'Great Learning', date: 20230801, displayDate: 'Aug 23', relevance: 1, priority: 22, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Introduction to Management', issuer: 'Great Learning', date: 20230801, displayDate: 'Aug 23', relevance: 3, priority: 23, domain: 'Finance & Accounts', isCoreCert: false },
            { title: 'Chat Gpt For Excel', issuer: 'Great Learning', date: 20230801, displayDate: 'Aug 23', relevance: 2, priority: 24, domain: 'Tech & Automation', isCoreCert: false }, 
            
        ];

        var currentSort = 'relevance'; 
        var currentFilter = 'All'; 

        window.renderCertifications = function() {
            var listElement = document.getElementById('professionalDevelopmentList');
            if (!listElement) { console.error("Target element 'professionalDevelopmentList' not found."); return; }
            
            var filteredCerts = certifications.filter(function(cert) {
                if (cert.isCoreCert) { return false; }
                if (currentFilter === 'All') { return true; }
                return cert.domain === currentFilter;
            });

            if (currentSort === 'date') {
                filteredCerts.sort(function(a, b) { return b.date - a.date; });
            } else {
                filteredCerts.sort(function(a, b) {
                    if (a.relevance !== b.relevance) { return a.relevance - b.relevance; }
                    if (a.priority !== b.priority) { return a.priority - b.priority; }
                    return b.date - a.date; 
                });
            }
            
            listElement.innerHTML = filteredCerts.map(function(cert) {
                var isHighlighted = cert.priority <= 7; 
                var highlightClass = isHighlighted ? 'cert-tag-highlight' : '';
                var dateColorClass = isHighlighted ? 'text-white' : 'text-[#238636]';
                
                return `
                    <div class="cert-tag mb-1 mr-1 ${highlightClass}">
                        <span class="cert-tag-title">${cert.title}</span>
                        <span class="cert-tag-detail ml-2">(${cert.issuer})</span>
                        <span class="cert-tag-detail text-gray-600 mx-1">|</span>
                        <span class="cert-tag-detail ${dateColorClass}">${cert.displayDate}</span>
                    </div>
                `;
            }).join('');
            
            const scrollContainer = listElement.closest('.scrollable-content');
            if (scrollContainer) { scrollContainer.scrollTop = 0; }
        }

        window.sortCertifications = function(sortType) {
            currentSort = sortType;
            document.querySelectorAll('.sort-button').forEach(function(btn) {
                const isSelected = btn.id === `sort${sortType.charAt(0).toUpperCase() + sortType.slice(1)}`;
                btn.classList.remove('active', 'bg-[#238636]', 'text-white', 'hover:bg-gray-700', 'text-gray-300');
                btn.setAttribute('aria-pressed', isSelected);
                if (isSelected) {
                    btn.classList.add('active', 'bg-[#238636]', 'text-white');
                } else {
                    btn.classList.add('hover:bg-gray-700', 'text-gray-300');
                }
            });
            window.renderCertifications();
        }

        window.filterCertifications = function(domain) {
            currentFilter = domain;
            window.renderCertifications();
        }

        window.renderCoreCerts = function(coreCerts) { 
            const listElement = document.getElementById('coreCertList'); 
            if (!listElement) { console.error("Target element 'coreCertList' not found."); return; }
            
            const TODAY_DATE = 20251024; // Oct 24, 2025 (Updated date)

            coreCerts.sort((a, b) => a.priority - b.priority); 
            
            listElement.innerHTML = coreCerts.map(cert => {
                let warningHtml = '';
                let dateColorClass = 'text-white';
                let scoreHtml = cert.score ? 
                    `<span class="cert-tag-detail text-gray-600 mx-1">|</span>
                     <span class="cert-tag-detail text-white font-bold">${cert.score}</span>` : '';
                
                if (cert.expiryDate) {
                    if (TODAY_DATE >= cert.expiryDate) {
                        warningHtml = `<span class="cert-tag-detail text-red-500 mx-1">|</span><span class="cert-tag-detail expiry-warning" aria-label="Certification expired or due for renewal">EXPIRED</span>`;
                        dateColorClass = 'text-red-400';
                        scoreHtml = cert.score ? `<span class="cert-tag-detail text-gray-600 mx-1">|</span><span class="cert-tag-detail text-red-400 font-bold">${cert.score}</span>` : '';
                    } 
                }

                return `
                    <div class="cert-tag cert-tag-highlight">
                        <span class="cert-tag-title">${cert.title}</span>
                        <span class="cert-tag-detail ml-2">(${cert.issuer})</span>
                        <span class="cert-tag-detail text-gray-600 mx-1">|</span>
                        <span class="cert-tag-detail ${dateColorClass}">${cert.displayDate}</span>
                        ${scoreHtml}
                        ${warningHtml}
                    </div>
                `;
            }).join('');
        }
        
        // --- PITCH INTEGRATION LOGIC (UNCHANGED) ---
        // 1. API Key updated with user's provided key
        const apiKey = "AIzaSyA7mpJyL21zh1vfxlodZthXR7wSh5os_Pc"; 
        const TTS_MODEL = 'gemini-2.5-flash-preview-tts';
        // 2. Voice updated back to Charon as requested
        const VOICE_NAME = "Charon"; 

        // Hardcoded pitch from user - UPDATED PITCH TEXT (More punchy and value-focused)
        const FINAL_ELEVATOR_PITCH = `Say in a confident, authoritative, and executive tone, with a slight Indian accent:
            <b>Is your financial reporting still a manual chore?</b> I'm Navneet Chaudhary, Assistant Manager of F\&A, an automation strategist who drives 80\% efficiency gains. With six years of cross-functional expertise from GST to FP\&A, I eliminate repetitive tasks, build Python-powered systems, and free up teams for strategic work. I bring immediate, quantifiable impact. My track record isn't just compliance, it's transformation. Let's discuss how I can implement true digital financial control in your organization. Chat with Zenith, my AI-powered assistant, for any immediate questions.
        `;

        // --- DOM Elements ---
        const playPitchButton = document.getElementById('playPitchButton');
        const statusLight = document.getElementById('statusLight');
        const pitchContent = document.getElementById('pitchContent');
        const pitchOutput = document.getElementById('pitchOutput');
        const pitchStatus = document.getElementById('pitchStatus');
        const pitchButtonIcon = document.getElementById('pitchButtonIcon');
        
        // Progress Bar Elements
        const progressCircle = document.getElementById('progressCircle');
        const radius = progressCircle ? progressCircle.r.baseVal.value : 77;
        const circumference = 2 * Math.PI * radius;
        if (progressCircle) {
            progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            progressCircle.style.strokeDashoffset = circumference;
        }

        let isProcessing = false;
        let audioInstance = null;
        
        /**
         * Updates the circular progress bar stroke offset.
         */
        function setProgress(percent) {
            if (!progressCircle) return;
            const offset = circumference - (percent / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
            progressCircle.closest('svg').setAttribute('aria-valuenow', percent);
        }
        
        /**
         * Stops audio playback and resets the UI to the "ready" state.
         */
        function stopAudioAndReset() {
            if (audioInstance) {
                audioInstance.pause();
                audioInstance.currentTime = 0;
                URL.revokeObjectURL(audioInstance.src); 
                audioInstance = null;
            }
            cancelAnimationFrame(window.animationFrameId);
            isProcessing = false;
            playPitchButton.disabled = false;
            playPitchButton.querySelector('span').textContent = 'Play Pitch';
            pitchButtonIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197 2.132A1 1 0 0110 13.73v-3.46a1 1 0 011.555-.832l3.197 2.132z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'; // Play icon
            
            pitchStatus.innerHTML = "Pitch stopped. Click 'Play Pitch' to resume.";
            setProgress(0);
            statusLight.classList.remove('status-speaking');
            statusLight.classList.add('status-idle');
        }


        // --- Utility Functions (Base64, PCM/WAV Conversion) ---
        function base64ToArrayBuffer(base64) {
            const binaryString = atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        function pcmToWav(pcmData, sampleRate) {
            const numChannels = 1;
            const bytesPerSample = 2;
            const buffer = new ArrayBuffer(44 + pcmData.byteLength);
            const view = new DataView(buffer);
            let offset = 0;
            function writeString(str) {
                for (let i = 0; i < str.length; i++) { view.setUint8(offset++, str.charCodeAt(i)); }
            }
            writeString('RIFF'); view.setUint32(offset, 36 + pcmData.byteLength, true); offset += 4;
            writeString('WAVE');
            writeString('fmt '); view.setUint32(offset, 16, true); offset += 4;
            view.setUint16(offset, 1, true); offset += 2; 
            view.setUint16(offset, numChannels, true); offset += 2;
            view.setUint32(offset, sampleRate, true); offset += 4;
            view.setUint32(offset, sampleRate * numChannels * bytesPerSample, true); offset += 4;
            view.setUint16(offset, numChannels * bytesPerSample, true); offset += 2;
            view.setUint16(offset, 16, true); offset += 2; 
            writeString('data'); view.setUint32(offset, pcmData.byteLength, true); offset += 4;
            new Int16Array(buffer, offset).set(new Int16Array(pcmData));
            return new Blob([buffer], { type: 'audio/wav' });
        }

        /**
         * Toggles the visibility of the collapsible pitch content.
         */
        function togglePitchContent(expand) {
            if (expand) {
                pitchContent.classList.add('expanded');
                pitchContent.setAttribute('aria-expanded', 'true');
            } else {
                pitchContent.classList.remove('expanded');
                pitchContent.setAttribute('aria-expanded', 'false');
            }
        }

        // Play the audio blob and manage the speaking animation and progress bar
        function playAudio(audioBlob, durationMs) {
            const audioUrl = URL.createObjectURL(audioBlob);
            
            if (audioInstance) {
                audioInstance.pause();
                URL.revokeObjectURL(audioInstance.src); 
            }
            
            audioInstance = new Audio(audioUrl);
            
            let startTime = performance.now();
            
            const updateProgress = (timestamp) => {
                const elapsed = timestamp - startTime;
                const percent = Math.min(100, (elapsed / durationMs) * 100);
                setProgress(percent);
                if (percent < 100 && !audioInstance.paused) {
                    window.animationFrameId = requestAnimationFrame(updateProgress);
                } else if (percent >= 100) {
                    setProgress(100); // Ensure it reaches 100%
                }
            };
            
            statusLight.classList.add('status-speaking');
            statusLight.classList.remove('status-idle');
            
            playPitchButton.disabled = false; // Allow stopping
            playPitchButton.querySelector('span').textContent = 'Stop Pitch';
            pitchButtonIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6M14 9v6" />'; // Stop icon
            
            togglePitchContent(true); 
            
            audioInstance.onplay = () => {
                startTime = performance.now();
                window.animationFrameId = requestAnimationFrame(updateProgress);
            }

            audioInstance.onended = () => {
                cancelAnimationFrame(window.animationFrameId);
                setProgress(100);
                statusLight.classList.remove('status-speaking');
                statusLight.classList.add('status-idle');
                playPitchButton.disabled = false;
                playPitchButton.querySelector('span').textContent = 'Play Pitch'; 
                pitchButtonIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197 2.132A1 1 0 0110 13.73v-3.46a1 1 0 011.555-.832l3.197 2.132z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'; // Play icon
                pitchStatus.innerHTML = '<span class="text-[#238636] font-semibold">Pitch delivered successfully. Click to play again.</span>';
                URL.revokeObjectURL(audioUrl); 
                audioInstance = null;
                isProcessing = false; // Reset processing flag after full cycle
            };

            audioInstance.onerror = (e) => {
                cancelAnimationFrame(window.animationFrameId);
                console.error("Audio playback error:", e);
                pitchStatus.innerHTML = '<span class="text-red-500 font-semibold">Audio playback failed. Pitch text available.</span>';
                stopAudioAndReset(); // Use reset function to handle error state fully
            };

            audioInstance.play().catch(e => {
                 cancelAnimationFrame(window.animationFrameId);
                 console.warn("Autoplay prevented:", e);
                 isProcessing = false;
                 playPitchButton.disabled = false;
                 playPitchButton.querySelector('span').textContent = 'Play Pitch'; 
                 pitchButtonIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197 2.132A1 1 0 0110 13.73v-3.46a1 1 0 011.555-.832l3.197 2.132z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'; // Play icon
                 pitchStatus.innerHTML = '<span class="text-yellow-500 font-semibold">Playback requires user interaction. Click the button again.</span>';
                 setProgress(0);
                 statusLight.classList.remove('status-speaking');
                 statusLight.classList.add('status-idle');
            });
        }

        function setThinkingState() {
            isProcessing = true;
            playPitchButton.disabled = true;
            playPitchButton.querySelector('span').textContent = 'Synthesizing...';
            pitchStatus.textContent = "The introduction audio is synthesizing...";
            
            statusLight.classList.remove('status-idle');
            statusLight.classList.remove('status-speaking'); // Remove speaking class if present
            statusLight.style.backgroundColor = '#f59e0b'; // Amber for synthesizing
            statusLight.style.boxShadow = '0 0 10px #f59e0b';
            pitchButtonIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 0014.28 2.052L17.5 5.3m-1.761 4.717a1 1 0 01-1.292.213L10 8l-.3 1.5M4 12a8 8 0 0015.356 2.052L17.5 17.3m-1.761-4.717a1 1 0 01-1.292.213L10 16l-.3 1.5"></path>'; // Load icon
            
            setProgress(0);
            togglePitchContent(true); 
        }
        
        async function callGeminiTtsApi(text) {
            // Corrected API URL domain
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${TTS_MODEL}:generateContent?key=${apiKey}`;
            
            // Note: We remove HTML tags before sending the text to TTS, as TTS only processes plain text.
            const plainText = text.replace(/<[^>]*>?/gm, '').trim();

            const payload = {
                contents: [{ parts: [{ text: plainText }] }], 
                generationConfig: {
                    responseModalities: ["AUDIO"],
                    speechConfig: {
                        voiceConfig: { prebuiltVoiceConfig: { voiceName: VOICE_NAME } }
                    }
                },
                model: TTS_MODEL
            };
            
            for (let i = 0; i < 3; i++) {
                try {
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    const result = await response.json();
                    
                    const part = result?.candidates?.[0]?.content?.parts?.[0];
                    const audioData = part?.inlineData?.data;
                    const mimeType = part?.inlineData?.mimeType;

                    if (audioData && mimeType && mimeType.startsWith("audio/L16;")) {
                        const sampleRateMatch = mimeType.match(/rate=(\d+)/);
                        const sampleRate = sampleRateMatch ? parseInt(sampleRateMatch[1], 10) : 16000;
                        
                        const wordCount = plainText.split(/\s+/).length;
                        // Estimate duration: 250ms per word is a standard, quick estimate.
                        const estimatedDurationMs = wordCount * 250; 
                        
                        return { audioData, sampleRate, estimatedDurationMs };
                    }
                    // Handle non-200 responses with an informative error
                    if (!response.ok) {
                        const errorBody = JSON.stringify(result, null, 2);
                        throw new Error(`API returned status ${response.status}. Body: ${errorBody}`);
                    }
                    // Handle generic API failure or unexpected response structure
                    throw new Error("Invalid TTS response structure or missing audio data.");
                } catch (error) {
                    console.error(`Attempt ${i + 1} failed for TTS API:`, error);
                    if (i < 2) await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
                }
            }
            throw new Error("Failed to get audio from Gemini TTS after multiple retries.");
        }

        window.generateElevatorPitch = async function() {
            if (audioInstance) {
                // If audio is currently playing, stop it and reset UI
                stopAudioAndReset();
                return;
            }
            if (isProcessing) return;

            setThinkingState();

            try {
                const pitchText = FINAL_ELEVATOR_PITCH;
                // Pitch text is HTML for formatting the bold title
                // We strip the instruction "Say in a confident, authoritative, and executive tone, with a slight Indian accent:" for display
                const instructionPrefix = 'Say in a confident, authoritative, and executive tone, with a slight Indian accent:';
                const displayPitchText = pitchText.startsWith(instructionPrefix) 
                                         ? pitchText.substring(instructionPrefix.length).trim() 
                                         : pitchText;
                pitchOutput.innerHTML = displayPitchText; 
                
                const { audioData, sampleRate, estimatedDurationMs } = await callGeminiTtsApi(pitchText);

                const pcmData = base64ToArrayBuffer(audioData);
                const pcm16 = new Int16Array(pcmData);
                const wavBlob = pcmToWav(pcm16, sampleRate);
                
                playPitchButton.querySelector('span').textContent = 'Stop Pitch';
                pitchStatus.textContent = "Playing pitch...";
                playAudio(wavBlob, estimatedDurationMs);

            } catch (error) {
                console.error("Pitch Generation Failure:", error);
                // Ensure full pitch text is displayed if audio fails
                const instructionPrefix = 'Say in a confident, authoritative, and executive tone, with a slight Indian accent:';
                const displayPitchText = FINAL_ELEVATOR_PITCH.startsWith(instructionPrefix) 
                                         ? FINAL_ELEVATOR_PITCH.substring(instructionPrefix.length).trim() 
                                         : FINAL_ELEVATOR_PITCH;
                pitchOutput.innerHTML = displayPitchText; 
                pitchStatus.innerHTML = '<span class="text-red-500 font-semibold">Critical Failure: Could not generate audio. Pitch text is displayed.</span>';
                
                stopAudioAndReset(); // Ensure full reset on critical failure
            }
        }
        
        window.initZenith = function() { 
            // Set initial status to ready/idle (Red dot, 0 progress)
            statusLight.classList.add('status-idle');
            setProgress(0);
            
            // FIX: Ensure the full pitch text without the instruction is displayed.
            const instructionPrefix = 'Say in a confident, authoritative, and executive tone, with a slight Indian accent:';
            let displayPitch = FINAL_ELEVATOR_PITCH.startsWith(instructionPrefix) 
                                ? FINAL_ELEVATOR_PITCH.substring(instructionPrefix.length).trim()
                                : FINAL_ELEVATOR_PITCH;
                                
            // Only show the bolded first sentence if available
            const firstSentenceMatch = displayPitch.match(/<b>.*?<\/b>/);
            if (firstSentenceMatch) {
                pitchOutput.innerHTML = firstSentenceMatch[0];
            } else {
                 pitchOutput.innerHTML = displayPitch;
            }
            
            pitchStatus.textContent = "Click 'Play Pitch' above to hear the introduction (now with executive tone).";
            togglePitchContent(false); // Ensure pitch is collapsed initially
        }
        
        // --- Run Initialization on Load ---
        window.onload = function() {
            // Existing profile logic initialization
            const coreCerts = certifications.filter(c => c.isCoreCert === true);
            window.renderCoreCerts(coreCerts);
            document.getElementById('filterDomain').value = 'All'; 
            window.sortCertifications('relevance'); 
            var achievementButton = document.querySelector('.flex:has(button[onclick^="window.openTab"]) .tab-button:first-child');
            window.openTab({ currentTarget: achievementButton }, 'professional');
            window.openSkillsTab({ currentTarget: document.querySelector('.skills-tab-button:first-child') }, 'functionalSkills');
            
            // Pitch Init
            window.initZenith();
            
            // Set up line drawing for resize outside the modal's lifecycle
            window.addEventListener('resize', window.debouncedDrawLines);
        };
    </script>
</body>
</html>
