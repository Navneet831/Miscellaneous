<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAVNEET CHAUDHARY | F&A Specialist & Automation Strategist</title>
    <meta name="description" content="FP&A Automation Specialist Delhi | Python Finance | 80% Efficiency Gains | 6+ years cross-functional F&A expertise.">
    
    <!-- MAANG Standard: Preconnect to critical CDNs -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    
    <!-- Typography: Inter for clean, financial data readability -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>

    <!-- Tailwind Config for Corporate Dark Theme -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Bloomberg/Terminal Palette
                        bg: {
                            DEFAULT: '#0f172a', // Slate 900
                            card: '#1e293b',    // Slate 800
                            hover: '#334155',   // Slate 700
                        },
                        accent: {
                            primary: '#10b981',   // Emerald 500 (Finance Positive)
                            primaryDark: '#047857', // Emerald 700 (For 3D Shadow)
                            secondary: '#3b82f6', // Blue 500 (Tech/Action)
                            secondaryDark: '#1d4ed8', // Blue 700 (For 3D Shadow)
                            alert: '#ef4444',     // Red 500 (Risk/Stop)
                            alertDark: '#b91c1c', // Red 700 (For 3D Shadow)
                        },
                        text: {
                            primary: '#f1f5f9',   // Slate 100
                            secondary: '#94a3b8', // Slate 400
                            muted: '#64748b',     // Slate 500
                            emphasis: '#60a5fa', // Blue 400
                        }
                    },
                    boxShadow: {
                        'terminal': '0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3)',
                        'glow': '0 0 15px rgba(16, 185, 129, 0.1)',
                        '3d-primary': '0 4px 0 #047857',
                        '3d-secondary': '0 4px 0 #1d4ed8',
                        '3d-alert': '0 4px 0 #b91c1c',
                        '3d-slate': '0 4px 0 #334155',
                    },
                    transitionProperty: {
                        'width': 'width',
                        'spacing': 'margin, padding',
                    }
                }
            }
        }
    </script>

    <!-- Analytics & Verification -->
    <script>
        // GTM & Clarity
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GT-57Z944P3');
        (function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window, document, "clarity", "script", "CLARITY_PROJECT_ID");
        window.clarity('set', 'mask', 'full');
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push('config', 'G-1XL4LRC5PP', {'anonymize_ip': true, 'allow_google_signals': false, 'user_id': undefined, 'send_page_view': false});
    </script>

    <!-- Mixpanel SDK -->
    <script type="text/javascript">
(function(e,c){if(!c.__SV){var l,h;window.mixpanel=c;c._i=[];c.init=function(q,r,f){function t(d,a){var g=a.split(".");2==g.length&&(d=d[g[0]],a=g[1]);d[a]=function(){d.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var b=c;"undefined"!==typeof f?b=c[f]=[]:f="mixpanel";b.people=b.people||[];b.toString=function(d){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);d||(a+=" (stub)");return a};b.people.toString=function(){return b.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders start_session_recording stop_session_recording people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
 for(h=0;h<l.length;h++)t(b,l[h]);var n="set set_once union unset remove delete".split(" ");b.get_group=function(){function d(p){a[p]=function(){b.push([g,[p].concat(Array.prototype.slice.call(arguments,0))])}}for(var a={},g=["get_group"].concat(Array.prototype.slice.call(arguments,0)),m=0;m<n.length;m++)d(n[m]);return a};c._i.push([q,r,f])};c.__SV=1.2;var k=e.createElement("script");k.type="text/javascript";k.async=!0;k.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===
 e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=e.getElementsByTagName("script")[0];e.parentNode.insertBefore(k,e)}})(document,window.mixpanel||[])

 mixpanel.init('c78b58539a26878c3d43e1a83a118494', {
  autocapture: true,
  record_sessions_percent: 100,
 })

</script>

    <style>
        /* Global Reset & Scrollbar Styling */
        html, body { height: 100%; background-color: #0f172a; color: #f1f5f9; overflow-x: hidden; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* 3D Button Interactions */
        .btn-3d { transition: all 0.1s; transform: translateY(0); }
        .btn-3d:active { transform: translateY(4px); box-shadow: none !important; }
        
        /* Sidebar Animations */
        #sidebar { transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        #sidebar.collapsed .sidebar-text { opacity: 0; pointer-events: none; display: none; }
        #sidebar:not(.collapsed) .sidebar-text { opacity: 1; display: inline-block; animation: fadeIn 0.3s ease-in; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Timeline Alignment - REMOVED DOTS/LINE FOR CLEANER LOOK */
        .timeline-line { display: none; } /* Removed vertical line */
        .timeline-dot { display: none; } /* Removed dots */
        
        /* D3 & Visuals */
        .node circle { cursor: pointer; stroke-width: 2px; transition: all 0.3s; }
        .node text { font-family: 'Inter', sans-serif; font-weight: 500; text-shadow: 0 1px 2px rgba(0,0,0,0.8); pointer-events: none; }
        .link { fill: none; stroke: #475569; stroke-width: 1.5px; transition: all 0.3s; }

        /* FAQ Accordion Styling */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
        }
        .accordion-content.active {
            max-height: 500px; /* Arbitrary large height for smooth transition */
            transition: max-height 0.6s ease-in;
        }
        
        /* New: Fixed Height and Scroll for FAQ Content */
        #faq-container-wrapper {
            max-height: 400px; /* Fixed height for scrollable area */
            overflow-y: auto;
            padding-right: 4px; /* Space for scrollbar */
        }
    </style>
</head>
<body class="antialiased flex h-screen overflow-hidden">

    <!-- 1. SIDEBAR NAVIGATION (Collapsed by Default) -->
    <nav id="sidebar" class="w-16 h-full bg-bg border-r border-slate-800 flex flex-col justify-between shrink-0 z-50 fixed lg:relative collapsed">
        <div>
            <!-- Brand / Profile Thumb -->
            <div class="h-20 flex items-center justify-center border-b border-slate-800">
                <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-accent-primary to-blue-600 flex items-center justify-center text-white font-extrabold text-sm shadow-glow shrink-0 cursor-pointer hover:scale-105 transition" onclick="toggleSidebarDesktop()">NC</div>
            </div>

            <!-- Nav Links -->
            <ul class="flex flex-col py-4 space-y-2">
                <li>
                    <a href="#highlights" onclick="window.scrollToSection('highlights')" class="flex items-center h-12 px-4 text-text-secondary hover:text-white hover:bg-slate-800 transition group relative">
                        <svg class="w-6 h-6 shrink-0 group-hover:text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                        <span class="ml-4 text-sm font-medium sidebar-text whitespace-nowrap">Highlights</span>
                    </a>
                </li>
                <li>
                    <a href="#experience" onclick="window.scrollToSection('experience')" class="flex items-center h-12 px-4 text-text-secondary hover:text-white hover:bg-slate-800 transition group relative">
                        <svg class="w-6 h-6 shrink-0 group-hover:text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        <span class="ml-4 text-sm font-medium sidebar-text whitespace-nowrap">Timeline</span>
                    </a>
                </li>
                <li>
                    <a href="#skills" onclick="window.scrollToSection('skills')" class="flex items-center h-12 px-4 text-text-secondary hover:text-white hover:bg-slate-800 transition group relative">
                        <svg class="w-6 h-6 shrink-0 group-hover:text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
                        <span class="ml-4 text-sm font-medium sidebar-text whitespace-nowrap">Skills & Tools</span>
                    </a>
                </li>
                <li>
                    <a href="#faq" onclick="window.scrollToSection('faq')" class="flex items-center h-12 px-4 text-text-secondary hover:text-white hover:bg-slate-800 transition group relative">
                        <!-- FAQ Icon -->
                        <svg class="w-6 h-6 shrink-0 group-hover:text-accent-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.734.143-1.478.275-2.222.396C10.51 13.91 10 14.545 10 15.25V17m0-7v7m0 0h.01"></path></svg>
                        <span class="ml-4 text-sm font-medium sidebar-text whitespace-nowrap">FAQ</span>
                    </a>
                </li>
                <li>
                    <a href="#" onclick="window.openMindMapModal(); return false;" class="flex items-center h-12 px-4 text-text-secondary hover:text-white hover:bg-slate-800 transition group relative">
                        <svg class="w-6 h-6 shrink-0 group-hover:text-accent-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg>
                        <span class="ml-4 text-sm font-medium sidebar-text whitespace-nowrap">Mind Map</span>
                    </a>
                </li>
                <li>
                    <a href="#" onclick="window.openMediaModal(); return false;" class="flex items-center h-12 px-4 text-text-secondary hover:text-white hover:bg-slate-800 transition group relative">
                        <svg class="w-6 h-6 shrink-0 group-hover:text-accent-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197 2.132A1 1 0 0110 13.73v-3.46a1 1 0 011.555-.832l3.197 2.132z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span class="ml-4 text-sm font-medium sidebar-text whitespace-nowrap">Portfolio Media</span>
                    </a>
                </li>
            </ul>
        </div>

        <div class="border-t border-slate-800">
             <!-- Ask Zenith -->
             <div class="p-2 overflow-hidden">
                <button onclick="window.toggleZenithChat()" class="w-full flex items-center justify-center h-12 rounded-lg bg-slate-800 hover:bg-slate-700 text-white transition group relative">
                    <svg class="w-5 h-5 text-accent-primary shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
                    <span class="ml-3 text-sm font-bold sidebar-text whitespace-nowrap">Ask Zenith</span>
                </button>
             </div>

             <!-- Collapse Toggle -->
             <button id="sidebarToggle" onclick="toggleSidebarDesktop()" class="w-full flex items-center justify-center h-12 text-text-secondary hover:text-white hover:bg-slate-800 border-t border-slate-800 transition-colors">
                <svg class="w-5 h-5 transform transition-transform duration-300 rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path></svg>
             </button>
        </div>
    </nav>
    
    <!-- Mobile Toggle Overlay -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden" onclick="toggleSidebarMobile()"></div>

    <!-- 2. MAIN CONTENT AREA -->
    <main class="flex-1 flex flex-col h-screen overflow-y-auto scroll-smooth" id="main-scroll">
        
        <!-- Mobile Header -->
        <div class="lg:hidden h-16 border-b border-slate-800 flex items-center justify-between px-4 shrink-0 bg-bg sticky top-0 z-30">
            <span class="font-bold text-white text-xl tracking-tight">NAVNEET.C</span>
            <button onclick="toggleSidebarMobile()" class="text-text-secondary p-2"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button>
        </div>

        <div class="max-w-7xl mx-auto w-full p-6 lg:p-10 space-y-8">
            
            <!-- HERO SECTION: Data Dense Profile -->
            <section id="highlights" class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                <!-- Profile Card -->
                <div class="lg:col-span-8 bg-bg-card border border-slate-700 rounded-2xl p-8 shadow-terminal relative overflow-hidden flex flex-col justify-center">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-accent-primary/5 blur-3xl rounded-full -mr-20 -mt-20 pointer-events-none"></div>
                    
                    <div class="flex flex-col sm:flex-row gap-8 items-center sm:items-start relative z-10">
                        <!-- Avatar with Progress & Social Icons -->
                        <div class="flex flex-col items-center gap-4 shrink-0">
                            <div class="relative">
                                <svg class="transform -rotate-90 w-40 h-40">
                                    <circle cx="80" cy="80" r="74" stroke="#334155" stroke-width="4" fill="transparent" />
                                    <circle id="pitchProgressRing" cx="80" cy="80" r="74" stroke="#10b981" stroke-width="4" fill="transparent" stroke-dasharray="465" stroke-dashoffset="465" class="transition-all duration-100" />
                                </svg>
                                <img src="https://raw.githubusercontent.com/Navneet831/Intro/main/Profile.png" 
                                     class="absolute top-3 left-3 w-34 h-34 rounded-full object-cover border-4 border-bg shadow-xl"
                                     style="width: 136px; height: 136px;"
                                     alt="Profile"
                                     onerror="this.src='https://placehold.co/150x150/1e293b/f1f5f9?text=NC'">
                            </div>
                            
                            <!-- Social Icons Row -->
                            <div class="flex items-center gap-3 mt-2">
                                <!-- LinkedIn -->
                                <a href="https://www.linkedin.com/in/navneet831/" target="_blank" class="btn-3d flex items-center justify-center w-10 h-10 bg-[#0077b5] text-white rounded-full shadow-[0_4px_0_#005582] hover:bg-[#006097] transition-colors" aria-label="LinkedIn Profile">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                                </a>
                                <!-- X1 -->
                                <a href="https://x.com/navneet7162" target="_blank" class="btn-3d flex items-center justify-center w-10 h-10 bg-slate-900 text-white rounded-full shadow-[0_4px_0_#0f172a] hover:bg-black border border-slate-700 transition-colors" aria-label="X (Twitter) 1">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                                </a>
                                <!-- X2 -->
                                <a href="https://x.com/navneet831" target="_blank" class="btn-3d flex items-center justify-center w-10 h-10 bg-slate-900 text-white rounded-full shadow-[0_4px_0_#0f172a] hover:bg-black border border-slate-700 transition-colors" aria-label="X (Twitter) 2">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                                </a>
                            </div>
                        </div>

                        <div class="flex-1 text-center sm:text-left w-full">
                            <div class="flex flex-col gap-2 mb-4">
                                <h1 class="text-4xl lg:text-5xl font-extrabold text-white tracking-tight">NAVNEET CHAUDHARY</h1>
                                <!-- Improved contrast using strong accent color -->
                                <p class="text-accent-secondary text-lg font-medium tracking-wide">Assistant Manager, F&A | Automation Strategist</p>
                            </div>

                            <p class="text-text-secondary text-base leading-relaxed mb-6 max-w-2xl">
                                6+ years expertise in <strong class="text-white">GST, FP&A, Strategic Finance</strong>. 
                                Leveraging Python & GenAI to cut manual effort by <strong class="text-accent-primary">80%</strong>. 
                                Proven track record of transformation with measurable achievement.
                            </p>

                            <!-- 3D Action Buttons -->
                            <div class="flex flex-wrap gap-4 justify-center sm:justify-start mb-6">
                                <a href="https://drive.google.com/file/d/1UBxBOqUxtL386miSFkWOXQlG5HWMaUS2/view?usp=sharing" target="_blank" class="btn-3d flex items-center gap-2 px-5 py-2.5 bg-accent-primary text-white text-xs font-bold rounded-lg shadow-3d-primary hover:brightness-110" aria-label="Download Resume">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                    RESUME
                                </a>
                                <a href="https://drive.google.com/file/d/19VaToDZPDiaPzNfH8QOty_EjZtr9LIn6/view?usp=sharing" target="_blank" class="btn-3d flex items-center gap-2 px-5 py-2.5 bg-slate-700 text-white text-xs font-bold rounded-lg shadow-3d-slate hover:bg-slate-600" aria-label="Download Cover Letter">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                    COVER LETTER
                                </a>
                                <button onclick="window.openJourneyModal()" class="btn-3d flex items-center gap-2 px-5 py-2.5 bg-slate-700 text-white text-xs font-bold rounded-lg shadow-3d-slate hover:bg-slate-600" aria-label="View Journey">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                                    JOURNEY
                                </button>
                            </div>

                            <!-- Pitch Controls -->
                            <div class="bg-slate-900/50 rounded-xl p-4 border border-slate-700 flex items-center gap-4 max-w-md backdrop-blur-sm">
                                <button id="playPitchBtn" onclick="window.togglePitch()" class="btn-3d flex items-center gap-2 px-4 py-2 bg-accent-secondary text-white text-sm font-bold rounded-lg shadow-3d-secondary hover:brightness-110 shrink-0">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z" /></svg>
                                    <span id="playBtnText">PLAY PITCH</span>
                                </button>
                                <div id="pitchStatus" class="text-xs text-text-muted italic truncate flex-1">
                                    Loading pitch...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact & Impact Stats -->
                <div class="lg:col-span-4 grid grid-rows-2 gap-6">
                    <!-- Contact Matrix -->
                    <div class="bg-bg-card border border-slate-700 rounded-2xl p-6 shadow-terminal flex flex-col justify-center">
                        <h3 class="text-xs font-bold text-text-muted uppercase mb-4 tracking-wider border-b border-slate-800 pb-2">Direct Line</h3>
                        <div class="space-y-3">
                            <a href="mailto:Nvc7162@gmail.com" class="flex items-center justify-between p-3 rounded-lg bg-bg/50 hover:bg-bg border border-transparent hover:border-slate-600 transition group">
                                <span class="text-sm text-text-secondary group-hover:text-white font-medium">Email</span>
                                <span class="text-sm font-mono text-accent-primary">Nvc7162@gmail.com</span>
                            </a>
                            <a href="tel:+919873394075" class="flex items-center justify-between p-3 rounded-lg bg-bg/50 hover:bg-bg border border-transparent hover:border-slate-600 transition group">
                                <span class="text-sm text-text-secondary group-hover:text-white font-medium">Phone</span>
                                <span class="text-sm font-mono text-white">+91 98733 94075</span>
                            </a>
                            <a href="https://calendar.app.google/qtFpe6bA8cr6qPDk8" target="_blank" class="btn-3d flex items-center justify-center gap-2 p-3 rounded-lg bg-slate-800 text-white text-xs font-bold shadow-3d-slate hover:bg-slate-700 mt-2 uppercase tracking-wide">
                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                Schedule Discussion
                            </a>
                        </div>
                    </div>

                    <!-- Dynamic Flashcard 2.0 -->
                    <div id="flashcard" class="bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-2xl p-6 shadow-terminal flex flex-col justify-center relative overflow-hidden group transition-colors">
                        
                        <!-- Header -->
                        <div class="flex justify-between items-start mb-4">
                            <h3 id="fc-label" class="text-xs font-bold text-accent-primary uppercase tracking-wider transition-all duration-300">Efficiency Gain</h3>
                            <button onclick="rotateFlashcard()" class="p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white transition-colors shadow-sm" aria-label="Next Impact Metric">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 0014.28 2.052L17.5 5.3m-1.761 4.717a1 1 0 01-1.292.213L10 8l-.3 1.5M4 12a8 8 0 0015.356 2.052L17.5 17.3m-1.761-4.717a1 1 0 01-1.292.213L10 16l-.3 1.5"></path></svg>
                            </button>
                        </div>
                        
                        <!-- Value Display -->
                        <div class="flex items-baseline gap-3 mt-1">
                            <span id="fc-value" class="text-5xl font-bold text-white tracking-tight transition-all duration-300">80%</span>
                            <span id="fc-desc" class="text-xs font-bold uppercase tracking-wide text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded transition-all duration-300">‚ñ≤ Impact</span>
                        </div>
                        
                        <!-- Detail Text -->
                        <p id="fc-detail" class="text-sm text-text-secondary mt-4 leading-relaxed transition-all duration-300 h-12">
                            Drastic reduction in manual reporting effort achieved through Python scripting & RPA.
                        </p>
                        
                        <!-- Progress Indicators -->
                        <div class="flex gap-1 mt-4">
                            <div class="h-1 w-full rounded bg-accent-primary opacity-100 transition-all" id="ind-0"></div>
                            <div class="h-1 w-full rounded bg-slate-700 opacity-50 transition-all" id="ind-1"></div>
                            <div class="h-1 w-full rounded bg-slate-700 opacity-50 transition-all" id="ind-2"></div>
                            <div class="h-1 w-full rounded bg-slate-700 opacity-50 transition-all" id="ind-3"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MAIN GRID -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <!-- LEFT COLUMN: Experience (Timeline) -->
                <div class="lg:col-span-2 space-y-6">
                    
                    <!-- Pitch Text (Collapsible) -->
                    <div id="pitchTextContainer" class="hidden bg-bg-card border border-accent-secondary/30 rounded-xl p-6 transition-all shadow-lg">
                        <h4 class="text-xs font-bold text-accent-secondary uppercase mb-2">Elevator Pitch Transcript</h4>
                        <p class="text-sm text-white leading-relaxed italic border-l-2 border-accent-secondary pl-4" id="pitchTranscript">
                            <!-- Populated via JS -->
                        </p>
                    </div>

                    <!-- Experience Card -->
                    <section id="experience" class="bg-bg-card border border-slate-700 rounded-2xl shadow-terminal">
                        <div class="p-6 border-b border-slate-700 flex justify-between items-center bg-slate-800/30 rounded-t-2xl">
                            <h2 class="text-lg font-bold text-white flex items-center gap-2">
                                <svg class="w-5 h-5 text-accent-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                PROFESSIONAL TIMELINE
                            </h2>
                            <span class="text-xs font-mono text-text-muted bg-bg px-2 py-1 rounded border border-slate-700">6+ YEARS</span>
                        </div>
                        
                        <!-- REMOVED TIMELINE LINE/DOTS - Updated classes for padding alignment -->
                        <div class="p-6 relative max-h-[800px] overflow-y-auto custom-scrollbar" id="exp-scroll">
                            
                            <!-- 1. Current / Gap -->
                            <div class="relative pl-0 mb-12 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <!-- Consolidated title -->
                                    <h3 class="font-bold text-white text-lg">Content Creation</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Sep 25 - Present</span>
                                </div>
                                <p class="text-sm text-slate-500 font-medium mb-3">Naukri Creator Hub & Finance Writer</p>
                                <ul class="list-disc list-inside text-sm text-text-secondary space-y-2 mb-4 pl-2">
                                    <li>Selected for <strong class="text-white">Naukri Creator Hub</strong> (Nov 2025).</li>
                                    <li>Publishes finance & economics articles in leading <strong class="text-white">Medium publications</strong> & LinkedIn.</li>
                                </ul>
                            </div>

                            <!-- 2. Oriana Power -->
                            <div class="relative pl-0 mb-12 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <h3 class="font-bold text-white text-lg">Oriana Power Ltd.</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Jun 25 - Sep 25</span>
                                </div>
                                <p class="text-sm text-accent-secondary font-medium mb-3">Assistant Manager F&A <span class="text-slate-500 font-normal">(Report to Director)</span></p>
                                <ul class="list-disc list-inside text-sm text-text-secondary space-y-2 mb-3 pl-2">
                                    <li><strong class="text-white">Internal Control:</strong> Implemented payment visibility controls, ensuring no payment without FP&A approval.</li>
                                    <li><strong class="text-white">FP&A Lead:</strong> Accelerated decision making by 30% via new forecasting models.</li>
                                    <li><strong class="text-white">Crisis Management:</strong> Stabilized ops during liquidity crunch (8 days cash) via strategic funding.</li>
                                </ul>
                                <!-- REMOVED compliance-note div -->
                            </div>

                             <!-- 3. Grew Energy -->
                            <div class="relative pl-0 mb-12 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <h3 class="font-bold text-white text-lg">Grew Energy Pvt Ltd.</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Dec 24 - Jun 25</span>
                                </div>
                                <p class="text-sm text-accent-secondary font-medium mb-3">Assistant Manager F&A</p>
                                <ul class="list-disc list-inside text-sm text-text-secondary space-y-2 mb-3 pl-2">
                                    <li><strong class="text-white">Banking Automation:</strong> Automated interest calculation & FD tracking via RPA.</li>
                                    <li><strong class="text-white">Stock Audit:</strong> Led physical inventory audit of PV modules at 5GW Jaipur plant.</li>
                                    <li><strong class="text-white">Efficiency:</strong> Reduced MIS prep time by 80% via Python dashboards.</li>
                                </ul>
                                <!-- REMOVED compliance-note div -->
                            </div>

                            <!-- 4. Volunteering (Robinhood Army) -->
                            <div class="relative pl-0 mb-12 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <!-- Changed color to match other job titles -->
                                    <h3 class="font-bold text-white text-lg">Volunteering (Robinhood Army)</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Sep 24 - Nov 24</span>
                                </div>
                                <p class="text-sm text-text-muted mb-2">Community Service</p>
                                <p class="text-sm text-text-secondary italic pl-2">Volunteered (unpaid) with NGO, contributing time and effort to community service during career break.</p>
                            </div>

                            <!-- 5. Ozone Pharma -->
                            <div class="relative pl-0 mb-12 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <h3 class="font-bold text-white text-lg">Ozone Pharmaceuticals Ltd.</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Feb 22 - Aug 24</span>
                                </div>
                                <p class="text-sm text-accent-secondary font-medium mb-3">Senior Executive <span class="text-slate-500 font-normal">(Report to CFO)</span></p>
                                <ul class="list-disc list-inside text-sm text-text-secondary space-y-2 mb-3 pl-2">
                                    <li><strong class="text-white">FP&A:</strong> Cut reporting errors by 40% via automated MIS.</li>
                                    <li><strong class="text-white">Tax Due Diligence:</strong> Managed 31 GST registrations with 100% compliance.</li>
                                    <li><strong class="text-white">Asset Accounting:</strong> Overhauled fixed assets, reduced discrepancies by 20%.</li>
                                    <li><strong class="text-white">Leadership:</strong> Mentored intern to Senior Exec level in 6 months.</li>
                                </ul>
                                <!-- REMOVED compliance-note div -->
                            </div>

                            <!-- 6. Shanti Mukand -->
                            <div class="relative pl-0 mb-12 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <h3 class="font-bold text-white text-lg">Shanti Mukand Hospital</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Feb 21 - Feb 22</span>
                                </div>
                                <p class="text-sm text-accent-secondary font-medium mb-2">Junior Executive F&A</p>
                                <ul class="list-disc list-inside text-sm text-text-secondary space-y-2 mb-3 pl-2">
                                    <li><strong class="text-white">AP Management:</strong> Mitigated high-risk long pending dues.</li>
                                    <li><strong class="text-white">NPPA Compliance:</strong> Adhered to Act guidelines for implant suppliers.</li>
                                </ul>
                            </div>

                            <!-- 7. Kumar Grover -->
                            <div class="relative pl-0 group">
                                <div class="flex justify-between items-start mb-1.5">
                                    <h3 class="font-bold text-white text-lg">Kumar Grover & Company</h3>
                                    <!-- CONSISTENT TIME COLOR: text-accent-secondary -->
                                    <span class="text-xs font-mono text-accent-secondary bg-slate-800 px-2 py-1 rounded border border-slate-700">Feb 19 - Jan 21</span>
                                
                                </div>
                                <p class="text-sm text-accent-secondary font-medium mb-2">Accounts Assistant</p>
                                <ul class="list-disc list-inside text-sm text-text-secondary space-y-2 mb-2 pl-2">
                                    <li><strong class="text-white">Taxation:</strong> Executed ITR computation for diverse client base.</li>
                                    <li><strong class="text-white">Audit:</strong> Conducted statutory and stock audits (Inventory/Financial).</li>
                                </ul>
                            </div>

                        </div>
                    </section>

                    <!-- Beyond Work: Extracurriculars & Achievements -->
                    <section class="bg-bg-card border border-slate-700 rounded-2xl shadow-terminal p-6">
                         <h3 class="text-xs font-bold text-text-muted uppercase mb-4 tracking-wider border-b border-slate-800 pb-2">Beyond Work: Achievements & Activities</h3>
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                             <div>
                                 <h4 class="text-sm font-bold text-accent-primary mb-3">Competitions & Awards</h4>
                                 <ul class="space-y-4">
                                     <li class="flex items-start gap-3">
                                         <div class="w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center text-yellow-500 font-bold border border-slate-700 shrink-0 shadow-sm">üèÜ</div>
                                         <div>
                                             <div class="text-sm font-bold text-white">NSE Financial Literacy Quiz</div>
                                             <!-- Updated text for NSE quiz result -->
                                             <div class="text-xs text-text-muted">Top 30% (NSE Winner Band), March 2024</div>
                                         </div>
                                     </li>
                                     <li class="flex items-start gap-3">
                                         <div class="w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center text-gray-400 font-bold border border-slate-700 shrink-0 shadow-sm">3rd</div>
                                         <div>
                                             <div class="text-sm font-bold text-white">Economics Quiz Competition</div>
                                             <div class="text-xs text-text-muted">Ranked 3rd (2016)</div>
                                         </div>
                                     </li>
                                 </ul>
                             </div>
                             <div>
                                 <h4 class="text-sm font-bold text-accent-secondary mb-3">Workshops & Learning</h4>
                                 <ul class="space-y-3 text-sm text-text-secondary">
                                     <li class="flex items-start gap-2">
                                         <span class="text-accent-secondary mt-1">‚óè</span>
                                         <span>Attended <strong>COP Fintech Olympiad</strong> & Financial Planning Webinars.</span>
                                     </li>
                                     <li class="flex items-start gap-2">
                                         <span class="text-accent-secondary mt-1">‚óè</span>
                                         <span>Participated in <strong>Portfolio Management Workshop</strong> by Sanjiv Bhasin.</span>
                                     </li>
                                 </ul>
                             </div>
                         </div>
                    </section>

                </div>

                <!-- RIGHT COLUMN: Skills & Certs (1/3 width) -->
                <div class="lg:col-span-1 space-y-6">
                    
                    <!-- Skills Ticker -->
                    <section id="skills" class="bg-bg-card border border-slate-700 rounded-2xl shadow-terminal p-6">
                        <h3 class="text-xs font-bold text-text-muted uppercase tracking-wider mb-6">Technical Arsenal</h3>
                        
                        <!-- F&A Section (Priority) -->
                        <div class="mb-8">
                            <p class="text-xs text-accent-primary font-bold mb-3">FINANCE & ACCOUNTS (Full Suite)</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-primary transition-colors shadow-sm">FP&A</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-primary transition-colors shadow-sm">GST Compliance</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-primary transition-colors shadow-sm">Financial Modeling</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-primary transition-colors shadow-sm">SAP FICO</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-primary transition-colors shadow-sm">IndAS / IFRS</span>
                            </div>
                        </div>

                        <!-- Automation Section -->
                        <div>
                            <p class="text-xs text-accent-secondary font-bold mb-3">AUTOMATION & DATA</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-secondary transition-colors shadow-sm">Python (Finance)</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-secondary transition-colors shadow-sm">RPA Scripting</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-secondary transition-colors shadow-sm">Generative AI</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-secondary transition-colors shadow-sm">PowerBI</span>
                                <span class="ticker-item px-3 py-1.5 rounded-md text-xs text-white font-medium cursor-default bg-slate-800 border border-slate-600 hover:border-accent-secondary transition-colors shadow-sm">Advanced Excel</span>
                            </div>
                        </div>
                    </section>

                    <!-- Certifications (Scrollable List) -->
                    <section class="bg-bg-card border border-slate-700 rounded-2xl shadow-terminal p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xs font-bold text-text-muted uppercase tracking-wider">Certifications</h3>
                            <button onclick="sortCerts()" class="text-xs text-accent-secondary hover:underline" id="sortBtn">Sort: Relevance</button>
                        </div>
                        <div id="certList" class="space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar pr-1">
                            <!-- Populated via JS -->
                        </div>
                    </section>

                    <!-- Education Table -->
                    <section class="bg-bg-card border border-slate-700 rounded-2xl shadow-terminal p-6">
                        <h3 class="text-xs font-bold text-text-muted uppercase tracking-wider mb-4">Education</h3>
                        <table class="w-full text-xs text-left border-collapse">
                            <thead class="text-text-muted font-medium border-b border-slate-700">
                                <tr><th class="pb-2 pl-2">Deg</th><th class="pb-2">Inst</th><th class="pb-2 text-right pr-2">Year</th></tr>
                            </thead>
                            <tbody class="text-text-secondary divide-y divide-slate-800">
                                <tr><td class="py-3 pl-2 text-white font-medium">MBA FM</td><td>IGNOU</td><td class="text-right pr-2">2026</td></tr>
                                <tr><td class="py-3 pl-2">M.Com</td><td>IGNOU</td><td class="text-right pr-2">2024</td></tr>
                                <tr><td class="py-3 pl-2">PGDIBO</td><td>IGNOU</td><td class="text-right pr-2">2022</td></tr>
                                <tr><td class="py-3 pl-2">B.Com</td><td>DU (SOL)</td><td class="text-right pr-2">2020</td></tr>
                            </tbody>
                        </table>
                    </section>

                </div>
            </div>

            <!-- FAQ SECTION: Proactive Question Handling (Data-Driven) -->
            <section id="faq" class="bg-bg-card border border-slate-700 rounded-2xl shadow-terminal p-6 mt-8">
                 <div class="p-2 border-b border-slate-700 mb-4 flex justify-between items-center bg-slate-800/30 -mx-6 -mt-6 rounded-t-2xl">
                    <h2 class="text-lg font-bold text-white flex items-center gap-2 px-4 py-2">
                        <svg class="w-5 h-5 text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.734.143-1.478.275-2.222.396C10.51 13.91 10 14.545 10 15.25V17m0-7v7m0 0h.01"></path></svg>
                        FAQ & PROBING QUESTIONS
                    </h2>
                </div>
                
                <!-- FIX 3: This container has the fixed height and scroll overflow -->
                <div id="faq-container-wrapper" class="space-y-3 custom-scrollbar">
                    <div id="faq-container" class="space-y-3">
                        <p id="faq-status" class="text-sm text-text-muted italic">Loading FAQs from Google Sheet...</p>
                    </div>
                </div>
            </section>
            
            <footer class="text-center text-xs text-text-muted py-8 border-t border-slate-800 mt-8">
                &copy; 2025 Navneet Chaudhary. Data updated Nov 2025.
            </footer>
        </div>
    </main>

    <!-- MODALS -->

    <!-- 1. Mind Map Modal -->
    <div id="mindMapModal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 modal-backdrop" onclick="window.closeMindMapModal()"></div>
        <div class="absolute inset-4 lg:inset-10 bg-bg border border-slate-700 rounded-xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300">
            <div class="p-4 border-b border-slate-800 flex justify-between items-center bg-slate-900">
                <h2 class="text-lg font-bold text-white">Career Architecture</h2>
                <button onclick="window.closeMindMapModal()" class="text-text-muted hover:text-white text-2xl">&times;</button>
            </div>
            <div id="mindMapContainer" class="flex-1 w-full h-full bg-slate-950 overflow-hidden relative cursor-grab active:cursor-grabbing">
                <!-- D3 SVG Injected Here -->
            </div>
        </div>
    </div>

    <!-- 2. Media/Portfolio Modal -->
    <div id="mediaModal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 modal-backdrop" onclick="window.closeMediaModal()"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[95%] max-w-4xl bg-bg border border-slate-700 rounded-xl shadow-2xl p-6 animate-in fade-in zoom-in duration-300">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-bold text-white">Automation Portfolio</h2>
                <button onclick="window.closeMediaModal()" class="text-text-muted hover:text-white text-2xl">&times;</button>
            </div>
            <div class="aspect-video bg-black rounded-lg overflow-hidden border border-slate-800 relative">
                <!-- Lazy loaded iframe -->
                <iframe id="ytFrame" class="w-full h-full" src="" title="Portfolio Playlist" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4">
                <div class="p-3 bg-slate-800 rounded border-l-2 border-accent-primary">
                    <div class="text-xs font-bold text-accent-primary">PROJECT 1</div>
                    <div class="text-sm text-white">Cash Flow Analytics</div>
                </div>
                <div class="p-3 bg-slate-800 rounded border-l-2 border-accent-secondary">
                    <div class="text-xs font-bold text-accent-secondary">PROJECT 2</div>
                    <div class="text-sm text-white">Python PDF RPA</div>
                </div>
                <div class="p-3 bg-slate-800 rounded border-l-2 border-yellow-500">
                    <div class="text-xs font-bold text-yellow-500">PROJECT 3</div>
                    <div class="text-sm text-white">Fund Dashboard</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. Journey Modal -->
    <div id="journeyModal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 modal-backdrop" onclick="window.closeJourneyModal()"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[95%] max-w-3xl bg-bg border border-slate-700 rounded-xl shadow-2xl p-6 animate-in fade-in zoom-in duration-300">
            <div class="flex justify-between items-center mb-4 border-b border-slate-800 pb-4">
                <div class="flex items-center gap-3">
                     <div class="p-2 rounded-lg bg-slate-800 text-white">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    </div>
                    <h2 class="text-lg font-bold text-white tracking-wide">PROFESSIONAL JOURNEY</h2>
                </div>
                <button onclick="window.closeJourneyModal()" class="text-text-muted hover:text-white text-2xl">&times;</button>
            </div>
            <div id="journey-modal-content" class="text-sm text-text-secondary leading-relaxed space-y-4 max-h-[60vh] overflow-y-auto custom-scrollbar">
                <p class="animate-pulse text-text-muted">Loading journey details...</p>
            </div>
        </div>
    </div>

    <!-- LOGIC -->
    <script>
        /* --- 1. STATE & DATA --- */
        const certs = [
            { t: "CA CPT", i: "ICAI", y: 2018, rel: 1, core: true, sc: "71.5%" },
            { t: "NISM Research Analyst", i: "NISM", y: 2024, rel: 1, core: true, sc: "64.25%" },
            { t: "Google Data Analytics", i: "Google", y: 2023, rel: 2, core: false },
            { t: "Financial Modelling", i: "WSS", y: 2023, rel: 1, core: false },
            { t: "AI for Everyone", i: "DeepMind", y: 2024, rel: 2, core: false },
            { t: "PwC GST Executive", i: "PwC", y: 2023, rel: 1, core: false }
        ];
        let isSortRel = true;
        let faqData = []; 

        // Google Sheet Config
        const SPREADSHEET_ID = '1ozWrImLTkJHvteWcmX7AXq_Se_pjk6QUkenB3XqIBxw';
        
        // PITCH TEXT CONTAINER (Global Variable)
        let PITCH_TEXT = "Say in a confident, authoritative, executive tone with a slight Indian accent: Is your financial reporting still a manual chore? I'm Navneet Chaudhary, Assistant Manager of F&A. I leverage Python and GenAI to drive 80% efficiency gains, eliminating repetitive tasks to free up strategic focus. My track record isn't just compliance; it's transformation. Let's discuss implementing true digital financial control.";
        
        /* --- 2. MIXPANEL TRACKING LOGIC (Custom Time-on-Section) --- */

        // Constant for consistent time period color
        const TRACKING_COLOR_STYLE = 'color: #10b981; font-weight: bold;';
        let currentActiveSection = 'highlights'; 
        
        // Tracks the visible section ID (or 'general' if none dominate)
        function getActiveSection() {
            const sections = ['highlights', 'experience', 'skills', 'faq'];
            let active = 'general';
            for (const id of sections) {
                const el = document.getElementById(id);
                if (el) {
                    const rect = el.getBoundingClientRect();
                    // Section is considered active if it covers the center third of the viewport
                    const viewportCenter = window.innerHeight / 2;
                    if (rect.top < viewportCenter && rect.bottom > viewportCenter) {
                        active = id;
                        break;
                    }
                }
            }
            return active;
        }

        // Logs the time spent on the previous section and starts the timer for the new one.
        function trackSectionTime(newSection, eventType) {
            // Only track if the section has actually changed and it's not the generic area
            if (newSection !== currentActiveSection && newSection !== 'general') {
                
                // 1. Track time spent on the PREVIOUS section (stops the timer)
                if (currentActiveSection !== 'general') {
                     // Check if mixpanel is initialized before using
                     if (typeof mixpanel !== 'undefined' && mixpanel.track) {
                        mixpanel.track('Time Spent on Section', {
                            'Section Name': currentActiveSection,
                            'Trigger': eventType
                        });
                        console.log(`%c[Mixpanel] Tracked time on: ${currentActiveSection} (Trigger: ${eventType})`, TRACKING_COLOR_STYLE);
                    }
                }

                // 2. Start timing the NEW section
                if (typeof mixpanel !== 'undefined' && mixpanel.time_event) {
                    mixpanel.time_event('Time Spent on Section');
                    currentActiveSection = newSection;
                    console.log(`%c[Mixpanel] Started timing: ${newSection}`, 'color: #3b82f6; font-weight: bold;');
                }
            }
        }

        let scrollTimer = null;
        function handleScrollTimeTracking() {
            clearTimeout(scrollTimer);
            scrollTimer = setTimeout(() => {
                const newSection = getActiveSection();
                trackSectionTime(newSection, 'Scroll Change');
            }, 500); // Debounce scroll event to prevent excessive tracking
        }

        function startMixpanelTracking() {
            // 1. Start timing the initial section (assuming 'highlights' is visible)
            const initialSection = getActiveSection();
            if (initialSection !== 'general') {
                if (typeof mixpanel !== 'undefined' && mixpanel.time_event) {
                    mixpanel.time_event('Time Spent on Section');
                    currentActiveSection = initialSection;
                }
            }
            console.log(`%c[Mixpanel Init] Tracking engagement and time on section. Initial section: ${currentActiveSection}`, 'color: #3b82f6; font-size: 11px; font-weight: bold;');

            // 2. Set up scroll listener for continuous passive time tracking
            document.getElementById('main-scroll').addEventListener('scroll', handleScrollTimeTracking);
        }
        
        /* --- 3. DATA FETCHING CONTROLLER --- */
        
        // Main Init Function
        document.addEventListener('DOMContentLoaded', () => {
            renderCerts();
            fetchFAQData();      // Fetch FAQs
            fetchProfileData();  // Fetch Pitch & Journey
            startMixpanelTracking(); // Init Tracking
        });

        async function fetchFAQData() {
            const statusElement = document.getElementById('faq-status');
            statusElement.innerText = "Fetching data...";
            // Range B:C from FAQ Sheet
            const queryUrl = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/gviz/tq?tqx=out:json&sheet=FAQ&range=B:C`;

            try {
                const response = await fetch(queryUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const text = await response.text();
                const jsonText = text.replace(/.*google.visualization.Query.setResponse\({(.*?)}\);/s, '{$1}');
                const json = JSON.parse(jsonText);
                
                if (json.table && json.table.rows) {
                    faqData = json.table.rows.slice(1).map(row => {
                        const q = row.c[0]?.v; 
                        const a = row.c[1]?.v;
                        if (q && a) return { question: q, answer: a };
                        return null;
                    }).filter(item => item !== null);

                    if (faqData.length > 0) {
                        statusElement.remove();
                        renderFAQ();
                    } else {
                        statusElement.innerText = "FAQ Sheet is empty.";
                    }
                }
            } catch (error) {
                console.error("FAQ Fetch Error:", error);
                document.getElementById('faq-container').innerHTML = `<div class="text-accent-alert text-xs">Failed to load FAQs.</div>`;
            }
        }

        async function fetchProfileData() {
            const journeyContentEl = document.getElementById('journey-modal-content');
            const pitchEl = document.getElementById('pitchStatus');
            
            // Fetch from 'About me' sheet, expanded range B1:B10 for safety
            // B1 = Pitch, B3 = Journey
            const queryUrl = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/gviz/tq?tqx=out:json&sheet=About%20me&range=B1:B10`;

            try {
                const response = await fetch(queryUrl);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const text = await response.text();
                const jsonText = text.replace(/.*google.visualization.Query.setResponse\({(.*?)}\);/s, '{$1}');
                const json = JSON.parse(jsonText);
                
                // Debug Log
                console.log("%c[Profile Data Debug]", "color: #10b981", json);

                if (json.table && json.table.rows) {
                    // Row 0 = B1 (Pitch)
                    // Row 2 = B3 (Journey)
                    const pitchVal = json.table.rows[0]?.c[0]?.v;
                    
                    // Safety check for Journey: Ensure array has enough rows
                    let journeyVal = null;
                    if(json.table.rows.length > 2) {
                        journeyVal = json.table.rows[2]?.c[0]?.v;
                    }

                    // 1. Update Pitch
                    if(pitchVal) {
                        PITCH_TEXT = pitchVal;
                        document.getElementById('pitchTranscript').innerText = `"${pitchVal.replace('Say in a confident, authoritative, executive tone with a slight Indian accent: ', '')}"`;
                        pitchEl.innerText = "Ready to play (AI Synthesized)";
                    }

                    // 2. Update Journey (Into Modal)
                    if(journeyVal) {
                        // Simple formatting: convert newlines to paragraphs or breaks
                        journeyContentEl.innerHTML = journeyVal.split('\n').map(p => `<p class="mb-2">${p}</p>`).join('');
                    } else {
                        journeyContentEl.innerHTML = `<span class="text-accent-alert">Journey content not found in Cell B3.</span><br><span class="text-xs text-text-muted">Please check sheet: "About me" > Cell B3.</span>`;
                    }
                }
            } catch (error) {
                console.error("Profile Fetch Error:", error);
                journeyContentEl.innerText = "Unable to load journey details due to network/permission error.";
                pitchEl.innerText = "Error loading dynamic pitch.";
            }
        }


        /* --- 4. FLASHCARD LOGIC --- */
        const impacts = [
            { label: "Efficiency Gain", value: "80%", desc: "Reduction in manual reporting effort via Python/RPA.", color: "text-emerald-400", bg: "bg-emerald-500/10" },
            { label: "Compliance", value: "100%", desc: "Zero penalty record in GST filings across 31 registrations.", color: "text-blue-400", bg: "bg-blue-500/10" },
            { label: "Decision Speed", value: "30%", desc: "Accelerated management reporting via FP&A models.", color: "text-yellow-400", bg: "bg-yellow-500/10" },
            { label: "Accuracy", value: "20%", desc: "Reduction in fixed asset discrepancies via overhaul.", color: "text-purple-400", bg: "bg-purple-500/10" }
        ];
        let currentImpact = 0;
        
        function rotateFlashcard() {
            currentImpact = (currentImpact + 1) % impacts.length;
            const data = impacts[currentImpact];
            
            // Elements
            const label = document.getElementById('fc-label');
            const val = document.getElementById('fc-value');
            const desc = document.getElementById('fc-desc');
            const detail = document.getElementById('fc-detail');
            const inds = [0,1,2,3].map(i => document.getElementById('ind-'+i));
            
            // Fade out
            label.style.opacity = 0;
            val.style.opacity = 0;
            desc.style.opacity = 0;
            detail.style.opacity = 0;
            
            setTimeout(() => {
                label.innerText = data.label;
                val.innerText = data.value;
                desc.innerText = "‚ñ≤ Impact";
                desc.className = `text-xs font-bold uppercase tracking-wide px-2 py-1 rounded transition-all duration-300 ${data.color} ${data.bg}`;
                detail.innerText = data.desc;
                
                // Update indicators
                inds.forEach((ind, idx) => {
                   ind.style.opacity = idx === currentImpact ? '1' : '0.3';
                   ind.className = `h-1 w-full rounded transition-all ${idx === currentImpact ? 'bg-accent-primary' : 'bg-slate-700'}`;
                });
                
                // Fade in
                label.style.opacity = 1;
                val.style.opacity = 1;
                desc.style.opacity = 1;
                detail.style.opacity = 1;
            }, 300);
        }

        /* --- 5. UI FUNCTIONS --- */
        function toggleSidebarMobile() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('mobile-overlay');
            sb.classList.toggle('-translate-x-full');
            ov.classList.toggle('hidden');
        }

        function toggleSidebarDesktop() {
            const sb = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('sidebarToggle').querySelector('svg');
            
            sb.classList.toggle('collapsed');
            
            // Rotate arrow
            if(sb.classList.contains('collapsed')) {
                toggleBtn.style.transform = "rotate(180deg)";
            } else {
                toggleBtn.style.transform = "rotate(0deg)";
            }

            // Trigger mind map resize if it's open
            setTimeout(() => {
                if(!document.getElementById('mindMapModal').classList.contains('hidden')) {
                     // D3 resize handled by responsive layout
                }
            }, 300);
        }

        function renderCerts() {
            const list = document.getElementById('certList');
            const sorted = [...certs].sort((a, b) => isSortRel ? a.rel - b.rel : b.y - a.y);
            
            list.innerHTML = sorted.map(c => `
                <div class="flex justify-between items-center p-3 rounded-lg bg-bg hover:bg-slate-800 border border-transparent hover:border-slate-700 transition group">
                    <div>
                        <div class="text-sm font-bold ${c.core ? 'text-white' : 'text-gray-300'} group-hover:text-accent-primary transition-colors">${c.t}</div>
                        <div class="text-xs text-text-muted">${c.i}</div>
                    </div>
                    <div class="text-right">
                        <div class="text-xs font-mono text-white">${c.y}</div>
                        ${c.sc ? `<div class="text-[10px] text-accent-secondary font-bold">${c.sc}</div>` : ''}
                    </div>
                </div>
            `).join('');
            document.getElementById('sortBtn').innerText = isSortRel ? "Sort: Relevance" : "Sort: Date";
        }

        function sortCerts() {
            isSortRel = !isSortRel;
            renderCerts();
        }

        // Overrides the global scrollToSection function to integrate Mixpanel tracking
        window.scrollToSection = function(id) {
            // 1. Tracking: Log time spent on the old section and start timer for the new one.
            trackSectionTime(id, 'Sidebar Click');
            
            // 2. Original functionality
            document.getElementById(id).scrollIntoView({behavior: 'smooth'});
            if(window.innerWidth < 1024) toggleSidebarMobile();
        }

        /* --- 6. FAQ LOGIC --- */
        function renderFAQ() {
            const container = document.getElementById('faq-container');
            container.innerHTML = faqData.map((item, index) => `
                <div class="border border-slate-700 rounded-xl overflow-hidden shadow-terminal">
                    <button class="flex justify-between items-center w-full p-4 text-left bg-slate-800 hover:bg-slate-700 transition-colors" onclick="toggleAccordion(${index})">
                        <span class="text-sm font-bold text-white">${item.question}</span>
                        <svg id="arrow-${index}" class="w-5 h-5 text-accent-primary transform transition-transform duration-300 rotate-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div id="content-${index}" class="accordion-content bg-slate-900/50">
                        <div class="p-4 border-t border-slate-700">
                            <p class="text-sm text-text-secondary leading-relaxed">${item.answer}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function toggleAccordion(index) {
            const content = document.getElementById(`content-${index}`);
            const arrow = document.getElementById(`arrow-${index}`);
            
            // Close all others
            document.querySelectorAll('.accordion-content').forEach((item, idx) => {
                if (idx !== index && item.classList.contains('active')) {
                    item.classList.remove('active');
                    document.getElementById(`arrow-${idx}`).classList.remove('rotate-180');
                }
            });

            // Toggle current
            content.classList.toggle('active');
            arrow.classList.toggle('rotate-180');
        }


        /* --- 7. PITCH LOGIC (GEMINI TTS) --- */
        
        let audioCtx, source, animationId;

        // HELPER: Convert Raw PCM to WAV ArrayBuffer
        function pcmToWavArrayBuffer(pcmData, sampleRate) {
            const numChannels = 1;
            const bytesPerSample = 2; // 16-bit
            const pcm16 = new Int16Array(pcmData.buffer); 
            const buffer = new ArrayBuffer(44 + pcm16.byteLength);
            const view = new DataView(buffer);
            let offset = 0;
            
            function writeString(str) {
                for (let i = 0; i < str.length; i++) { view.setUint8(offset++, str.charCodeAt(i)); }
            }
            
            writeString('RIFF'); 
            view.setUint32(offset, 36 + pcm16.byteLength, true); offset += 4;
            writeString('WAVE');
            writeString('fmt '); 
            view.setUint32(offset, 16, true); offset += 4;
            view.setUint16(offset, 1, true); offset += 2; // PCM
            view.setUint16(offset, numChannels, true); offset += 2;
            view.setUint32(offset, sampleRate, true); offset += 4;
            view.setUint32(offset, sampleRate * numChannels * bytesPerSample, true); offset += 4;
            view.setUint16(offset, numChannels * bytesPerSample, true); offset += 2;
            view.setUint16(offset, 16, true); offset += 2; 
            writeString('data'); 
            view.setUint32(offset, pcm16.byteLength, true); offset += 4;
            
            // Copy PCM data
            const destPcm = new Int16Array(buffer, offset);
            destPcm.set(pcm16);
            
            return buffer;
        }
        
        async function togglePitch() {
            const btn = document.getElementById('playPitchBtn');
            const status = document.getElementById('pitchStatus');
            const container = document.getElementById('pitchTextContainer');

            // If playing, stop
            if (btn.classList.contains('playing')) {
                if(source) { source.stop(); source = null; }
                btn.classList.remove('playing', 'bg-accent-alert');
                btn.classList.add('bg-accent-secondary');
                document.getElementById('playBtnText').innerText = "PLAY PITCH";
                status.innerText = "Pitch stopped.";
                return;
            }

            // Play / Generate
            container.classList.remove('hidden');
            btn.disabled = true;
            btn.classList.add('opacity-75', 'cursor-wait');
            status.innerHTML = `<span class="animate-pulse text-accent-secondary">Synthesizing Audio via Zenith AI...</span>`;

            try {
                const apiKey = ""; // PROVIDED BY ENV
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;
                
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: PITCH_TEXT }] }], // USES DYNAMIC PITCH TEXT
                        generationConfig: {
                            responseModalities: ["AUDIO"],
                            speechConfig: { voiceConfig: { prebuiltVoiceConfig: { voiceName: "Charon" } } }
                        }
                    })
                });

                const data = await response.json();
                if (!data.candidates) throw new Error("API Error");
                
                const part = data.candidates[0].content.parts[0];
                const audioBase64 = part.inlineData.data;
                const mimeType = part.inlineData.mimeType; // e.g. "audio/L16; rate=24000"
                
                // Parse Sample Rate
                let sampleRate = 24000; // Default fallback
                const match = mimeType.match(/rate=(\d+)/);
                if (match) sampleRate = parseInt(match[1], 10);

                // Decode Base64 to Uint8Array
                const binaryString = atob(audioBase64);
                const len = binaryString.length;
                const bytes = new Uint8Array(len);
                for (let i = 0; i < len; i++) bytes[i] = binaryString.charCodeAt(i);

                // Convert Raw PCM to Valid WAV Buffer
                const wavBuffer = pcmToWavArrayBuffer(bytes, sampleRate);

                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                const buffer = await audioCtx.decodeAudioData(wavBuffer);
                
                source = audioCtx.createBufferSource();
                source.buffer = buffer;
                source.connect(audioCtx.destination);
                source.start(0);
                
                // UI Playing State
                btn.disabled = false;
                btn.classList.remove('opacity-75', 'cursor-wait', 'bg-accent-secondary');
                btn.classList.add('playing', 'bg-accent-alert', 'hover:bg-red-700', 'shadow-3d-alert');
                document.getElementById('playBtnText').innerText = "STOP";
                status.innerText = "Playing...";
                
                // Visualize Progress Ring
                const ring = document.getElementById('pitchProgressRing');
                const duration = buffer.duration * 1000;
                const start = Date.now();
                
                function animate() {
                    const elapsed = Date.now() - start;
                    const progress = Math.min(elapsed / duration, 1);
                    const offset = 465 - (465 * progress);
                    ring.style.strokeDashoffset = offset;
                    
                    if(progress < 1 && btn.classList.contains('playing')) {
                        requestAnimationFrame(animate);
                    } else {
                        if(progress >= 1) {
                            btn.click(); // Stop automatically
                            status.innerText = "Completed.";
                        }
                    }
                }
                animate();

            } catch (e) {
                console.error(e);
                status.innerText = "Audio unavailable. Read transcript below.";
                btn.disabled = false;
                btn.classList.remove('opacity-75', 'cursor-wait');
            }
        }

        /* --- 8. MODAL HANDLERS --- */
        function openMediaModal() {
            const m = document.getElementById('mediaModal');
            m.classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('ytFrame').src = "https://www.youtube.com/embed/videoseries?list=PLEfUln3m0PdhgiQzVE2GM8cwd8WqyfWw2&autoplay=1";
            }, 100);
        }
        function closeMediaModal() {
            document.getElementById('mediaModal').classList.add('hidden');
            document.getElementById('ytFrame').src = "";
        }
        
        // JOURNEY MODAL
        function openJourneyModal() {
            document.getElementById('journeyModal').classList.remove('hidden');
        }
        function closeJourneyModal() {
            document.getElementById('journeyModal').classList.add('hidden');
        }

        /* --- 9. D3 MIND MAP (INTERACTIVE RESTORED) */
        const rawTreeData = {
            "name": "Navneet", 
            "children": [
                { "name": "Expertise", "children": [ { "name": "FP&A" }, { "name": "Accounting" }, { "name": "Taxation" }, { "name": "Audit" } ] },
                { "name": "Tech", "children": [ { "name": "Python" }, { "name": "RPA" }, { "name": "GenAI" }, { "name": "Advanced Excel" } ] },
                { "name": "Impact", "children": [ { "name": "80% Efficiency" }, { "name": "30% Speed" }, { "name": "57% Hike" } ] },
                { "name": "Education", "children": [ { "name": "MBA FM" }, { "name": "M.Com" }, { "name": "CA CPT" } ] }
            ]
        };

        let root, svg, g, tree, width, height;
        let i = 0, duration = 500;

        function openMindMapModal() {
            const modal = document.getElementById('mindMapModal');
            modal.classList.remove('hidden');
            // Wait for transition to finish before calculating dimensions
            setTimeout(initD3, 300);
        }
        function closeMindMapModal() {
            document.getElementById('mindMapModal').classList.add('hidden');
        }

        function initD3() {
            const container = document.getElementById('mindMapContainer');
            width = container.clientWidth;
            height = container.clientHeight;
            
            // Clear previous SVG
            d3.select("#mindMapContainer").selectAll("*").remove();

            // Zoom behavior
            const zoom = d3.zoom().on("zoom", (e) => {
                g.attr("transform", e.transform);
            });

            svg = d3.select("#mindMapContainer").append("svg")
                .attr("width", width).attr("height", height)
                .call(zoom)
                .append("g"); // Main group
                
            // Initial Transform centered
            g = svg.append("g").attr("transform", `translate(${width/2 - 50},${height/2})`);

            // Hierarchy
            root = d3.hierarchy(rawTreeData, d => d.children);
            root.x0 = height / 2;
            root.y0 = 0;

            tree = d3.tree().size([height, width - 150]); // Adjusted size
            
            update(root);
        }

        function collapse(d) {
            if(d.children) {
                d._children = d.children;
                d._children.forEach(collapse);
                d.children = null;
            }
        }

        function update(source) {
            const treeData = tree(root);
            const nodes = treeData.descendants();
            const links = treeData.descendants().slice(1);

            // Normalize for fixed depth
            nodes.forEach(d => { d.y = d.depth * 150 });

            // --- Nodes ---
            const node = g.selectAll('g.node')
                .data(nodes, d => d.id || (d.id = ++i));

            // Enter
            const nodeEnter = node.enter().append('g')
                .attr('class', 'node')
                .attr("transform", d => `translate(${source.y0},${source.x0})`)
                .on('click', click);

            nodeEnter.append('circle')
                .attr('class', 'node')
                .attr('r', 1e-6)
                .style("fill", d => d._children ? "#3b82f6" : "#10b981");

            nodeEnter.append('text')
                .attr("dy", ".35em")
                .attr("x", d => d.children || d._children ? -13 : 13)
                .attr("text-anchor", d => d.children || d._children ? "end" : "start")
                .style("fill", "#f1f5f9")
                .text(d => d.data.name);

            // Update
            const nodeUpdate = nodeEnter.merge(node);
            
            nodeUpdate.transition().duration(duration)
                .attr("transform", d => `translate(${d.y},${d.x})`);

            nodeUpdate.select('circle.node')
                .attr('r', 6)
                .style("fill", d => d._children ? "#3b82f6" : "#10b981")
                .attr('cursor', 'pointer');

            // Exit
            const nodeExit = node.exit().transition().duration(duration)
                .attr("transform", d => `translate(${source.y},${source.x})`)
                .remove();

            nodeExit.select('circle').attr('r', 1e-6);
            nodeExit.select('text').style('fill-opacity', 1e-6);

            // --- Links ---
            const link = g.selectAll('path.link')
                .data(links, d => d.id);

            // Enter
            const linkEnter = link.enter().insert('path', "g")
                .attr("class", "link")
                .attr('d', d => {
                    const o = {x: source.x0, y: source.y0};
                    return diagonal(o, o);
                });

            // Update
            const linkUpdate = linkEnter.merge(link);
            linkUpdate.transition().duration(duration)
                .attr('d', d => diagonal(d, d.parent));

            // Exit
            link.exit().transition().duration(duration)
                .attr('d', d => {
                    const o = {x: source.x, y: source.y};
                    return diagonal(o, o);
                })
                .remove();

            // Stash positions
            nodes.forEach(d => {
                d.x0 = d.x;
                d.y0 = d.y;
            });
        }

        function diagonal(s, d) {
            return `M ${s.y} ${s.x}
                    C ${(s.y + d.y) / 2} ${s.x},
                      ${(s.y + d.y) / 2} ${d.x},
                      ${d.y} ${d.x}`;
        }

        function click(event, d) {
            if (d.children) {
                d._children = d.children;
                d.children = null;
            } else {
                d.children = d._children;
                d._children = null;
            }
            update(d);
        }

        function toggleZenithChat() {
            window.open("https://tawk.to/chat/68efdd0e7e16ad19527ac96f/1j7kff0qq", "_blank", "width=400,height=600");
        }
        
        // Tawk.to Script Injection (Restored)
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
        var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
        s1.async=true;
        s1.src='https://embed.tawk.to/68efdd0e7e16ad19527ac96f/1j7kff0qq';
        s1.charset='UTF-8';
        s1.setAttribute('crossorigin','*');
        s0.parentNode.insertBefore(s1,s0);
        })();

    </script>
</body>
</html>
